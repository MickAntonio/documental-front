"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[158],{79:(J,C,o)=>{o.d(C,{V:()=>f});var v=o(4650);class m{constructor(){}transform(h,T,_){return Array.isArray(h)?h.map(x=>_.find(g=>g[T]===x)):_.find(x=>x[T]===h)}}m.\u0275fac=function(h){return new(h||m)},m.\u0275pipe=v.Yjl({name:"fuseFindByKey",type:m,pure:!1});class f{}f.\u0275fac=function(h){return new(h||f)},f.\u0275mod=v.oAB({type:f}),f.\u0275inj=v.cJS({})},4158:(J,C,o)=>{o.r(C),o.d(C,{TemplatesModule:()=>A});var v=o(9299),m=o(1206),f=o(7957),c=o(4859),h=o(6709),T=o(3238),_=o(9602),x=o(4850),g=o(9549),F=o(7392),r=o(284),p=o(9506),b=o(8255),Z=o(3162),E=o(1948),z=o(4385),D=o(3267),Y=o(266),K=o(79),j=o(4466),W=o(8764),$=o(7579),L=o(2722),G=o(6451),H=o(3900),l=o(4006),N=o(8739),M=o(6308),V=o(8288),k=o(529),e=o(4650),B=o(3878),X=o(4880),P=o(9424),O=o(7775),S=o(6895),q=o(8214),ee=o(7401),Q=o(3745);class I{constructor(t,a,s,i,d,u){this._changeDetectorRef=t,this._formBuilder=a,this._fuseConfirmationService=s,this._templateService=i,this._drawerService=d,this._fuseAlertService=u,this.alertMessage=new e.vpe,this.alert={type:"success",message:""}}ngOnInit(){this.setupForm()}ngOnChanges(t){t.template&&(this.template?1!=this._drawerService.opened()||this.templateForm?.pristine?(this.disabledDelete=!1,this.templateForm.patchValue(this.template,{emitEvent:!1}),this._drawerService.open()):this.saveTemplateConfirmation():1!=this._drawerService.opened()||this.templateForm?.pristine?(this.disabledDelete=!0,this.setupForm()):this.saveTemplateConfirmation(),this._changeDetectorRef.markForCheck())}setupForm(){this.templateForm=this._formBuilder.group({id:new l.NI,nome:new l.NI("",[l.kI.required]),descricao:new l.NI(""),template:new l.NI("",[l.kI.required]),activo:new l.NI(!1),fileBase64:new l.NI("")})}createTemplate(t){this._templateService.createTemplate(t).subscribe({error:a=>{this.alert={type:"error",message:`${a.error.message}`},this._fuseAlertService.show("alertBoxTemplates"),this.alertMessage.emit(this.alert)},complete:()=>{this.alert={type:"success",message:"Modelo de Documento adicionado com successo!"},this._templateService.getTemplates(this._templateService.getTemplateDefaultParams).subscribe(),this._fuseAlertService.show("alertBoxTemplates"),this.alertMessage.emit(this.alert),this.templateForm.reset(),this._drawerService.close()}})}updateTemplate(t){this._templateService.updateTemplate(t.id,t).subscribe({error:a=>{this.alert={type:"error",message:`${a.error.message}`},this._fuseAlertService.show("alertBoxTemplates"),this.alertMessage.emit(this.alert)},complete:()=>{this.alert={type:"success",message:"Modelo de Documento actualizado com successo!"},this._templateService.getTemplates(this._templateService.getTemplateDefaultParams).subscribe(),this._fuseAlertService.show("alertBoxTemplates"),this.alertMessage.emit(this.alert),this.templateForm.reset(),this._drawerService.close()}})}save(t){0==t.id||null==t.id?this.createTemplate(t):this.updateTemplate(t)}handleFileSelect(t){const a=this.templateForm.get("fileBase64").value;if(this.mimeType=a.type,a){const s=new FileReader;s.onload=this.handleReaderLoaded.bind(this),s.readAsBinaryString(a)}}handleReaderLoaded(t){let a,s;const i=t.target.result;a=btoa(i),btoa(i),s="data:"+this.mimeType+";base64,"+btoa(i),this.templateForm.get("template").setValue(s),this._changeDetectorRef.markForCheck()}showPdf(t){const a=atob(t.split(",")[1]),s=new Array(a.length);for(let y=0;y<a.length;y++)s[y]=a.charCodeAt(y);const i=new Uint8Array(s),d=new Blob([i],{type:"application/pdf"}),u=URL.createObjectURL(d);window.open(u,"Template.pdf")}deleteTemplate(){0!=this.templateForm.get("id").value&&this._fuseConfirmationService.open({title:"Remover Modelo de Documento",message:"Tem certeza que queres remover este modelo de documento? Essa ac\xe7\xe3o n\xe3o pode ser desfeita",actions:{confirm:{label:"Remover"},cancel:{label:"Cancelar"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._templateService.deleteTemplate(this.templateForm.get("id").value).subscribe({complete:()=>{this.alert={type:"success",message:"Modelo de Documento removido com successo!"},this._drawerService.close(),this._templateService.getTemplates(this._templateService.getTemplateDefaultParams).subscribe(),this._fuseAlertService.show("alertBoxTemplates"),this.alertMessage.emit(this.alert)},error:s=>{this.alert={type:"error",message:s.error.message},this._fuseAlertService.show("alertBoxTemplates"),this.alertMessage.emit(this.alert),this._changeDetectorRef.markForCheck()}})})}ngOnDestroy(){this._drawerService.close()}saveTemplateConfirmation(){var t=null==this.templateForm?.get("id").value||0==this.templateForm?.get("id").value;this._fuseConfirmationService.open({title:"Modelo de Documento",dismissible:!0,icon:{color:"primary"},message:t?"O formul\xe1rio cont\xeam dados n\xe3o salvos, deseja salvar?":"Foram feitas altera\xe7\xf5es no formul\xe1rio do modelo de Documento, deseja salvar as altera\xe7\xf5es?",actions:{confirm:{label:"Salvar",color:"primary"},cancel:{label:"N\xe3o Salvar"}}}).afterClosed().subscribe(s=>{"confirmed"===s?t?this.createTemplate(this.templateForm.value):this.updateTemplate(this.templateForm.value):(this.templateForm.reset(),this.templateForm.patchValue(this.template,{emitEvent:!1}))})}trackByFn(t,a){return a.id||t}closeDrawer(){this._drawerService.close()}}I.\u0275fac=function(t){return new(t||I)(e.Y36(e.sBO),e.Y36(l.QS),e.Y36(ee.R),e.Y36(B.E),e.Y36(P.z),e.Y36(O.jm))},I.\u0275cmp=e.Xpm({type:I,selectors:[["template-form"]],inputs:{template:"template"},outputs:{alertMessage:"alertMessage"},features:[e.TTD],decls:48,vars:22,consts:[[1,"flex","flex-auto"],[1,"flex","flex-col","flex-auto","p-6","pt-10","sm:p-8","sm:pt-10","overflow-y-auto",3,"formGroup"],[1,"flex","items-center","justify-between","-mt-3","-ml-4"],[1,"flex","items-center","justify-center","pr-4","pl-3.5"],[3,"svgIcon"],[1,"ml-2","font-semibold"],[1,"flex","items-center"],["mat-icon-button","",3,"matMenuTriggerFor"],["moreMenu","matMenu"],["mat-menu-item","",3,"disabled","click"],["mat-icon-button","",3,"click"],[1,"mt-6","mb-8"],[1,"flex"],[1,"flex-auto",3,"subscriptSizing","hideRequiredMarker"],[1,"text-red-600"],["matInput","","maxlength","250","required","",3,"formControlName","spellcheck","placeholder"],[1,"flex","mt-8"],[1,"flex-auto",3,"subscriptSizing"],["matInput","","matAutosizeMinRows","5","matAutosizeMaxRows","20",3,"formControlName","spellcheck","placeholder"],[1,"flex-auto"],["formControlName","fileBase64","accept","*",3,"color","change"],["arquivo",""],["ngxMatFileInputIcon","",1,"ml-170",3,"svgIcon"],[3,"formControlName","color"],[1,"flex","justify-end","mt-10"],["mat-flat-button","","type","button",1,"px-8",3,"disabled","color","click"]],template:function(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),e._UZ(4,"mat-icon",4),e.TgZ(5,"span",5),e._uU(6,"Modelo de Documento"),e.qZA()(),e.TgZ(7,"div",6)(8,"button",7),e._UZ(9,"mat-icon",4),e.qZA(),e.TgZ(10,"mat-menu",null,8)(12,"button",9),e.NdJ("click",function(){return a.deleteTemplate()}),e._UZ(13,"mat-icon",4),e.TgZ(14,"span"),e._uU(15,"Excluir Modelo de Documento"),e.qZA()()(),e.TgZ(16,"a",10),e.NdJ("click",function(){return a.closeDrawer()}),e._UZ(17,"mat-icon",4),e.qZA()()(),e._UZ(18,"mat-divider",11),e.TgZ(19,"div")(20,"div",12)(21,"mat-form-field",13)(22,"mat-label"),e._uU(23,"Nome "),e.TgZ(24,"span",14),e._uU(25,"*"),e.qZA()(),e._UZ(26,"input",15),e.qZA()(),e.TgZ(27,"div",16)(28,"mat-form-field",17)(29,"mat-label"),e._uU(30,"Descri\xe7\xe3o"),e.qZA(),e._UZ(31,"textarea",18),e.qZA()(),e.TgZ(32,"div",16)(33,"mat-form-field",19)(34,"mat-label"),e._uU(35,"Ficheiro "),e.TgZ(36,"span",14),e._uU(37,"*"),e.qZA()(),e.TgZ(38,"ngx-mat-file-input",20,21),e.NdJ("change",function(){e.CHM(s);const d=e.MAs(39);return e.KtG(a.handleFileSelect(d))}),e._UZ(40,"mat-icon",22),e.qZA()()(),e.TgZ(41,"div",16)(42,"div",19)(43,"mat-checkbox",23),e._uU(44," Activar "),e.qZA()()(),e.TgZ(45,"div",24)(46,"button",25),e.NdJ("click",function(){return a.save(a.templateForm.value)}),e._uU(47," Salvar "),e.qZA()()()()()}if(2&t){const s=e.MAs(11);e.xp6(1),e.Q6J("formGroup",a.templateForm),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:pencil-alt"),e.xp6(4),e.Q6J("matMenuTriggerFor",s),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:dots-vertical"),e.xp6(3),e.Q6J("disabled",a.disabledDelete),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:trash"),e.xp6(4),e.Q6J("svgIcon","heroicons_outline:x"),e.xp6(4),e.Q6J("subscriptSizing","dynamic")("hideRequiredMarker",!0),e.xp6(5),e.Q6J("formControlName","nome")("spellcheck",!1)("placeholder","Informe o nome"),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","descricao")("spellcheck",!1)("placeholder","Informe a descri\xe7\xe3o"),e.xp6(7),e.Q6J("color","accent"),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:upload"),e.xp6(3),e.Q6J("formControlName","activo")("color","primary"),e.xp6(3),e.Q6J("disabled",a.templateForm.invalid||a.templateForm.pristine)("color","primary")}},dependencies:[c.lW,c.o6,c.RK,h.oG,x.d,g.KE,g.hX,F.Hw,r.Nt,b.VK,b.OP,b.p6,Q.v6,Q.qb,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.nD,l.sg,l.u],styles:[".ml-170{margin-left:170px}\n"],encapsulation:2,changeDetection:0});const te=["matDrawer"];function ae(n,t){1&n&&(e.TgZ(0,"div",27),e._UZ(1,"mat-progress-bar",28),e.qZA()),2&n&&(e.xp6(1),e.Q6J("mode","indeterminate"))}function oe(n,t){1&n&&(e.TgZ(0,"span",29),e._uU(1,"Novo Modelo de Documento"),e.qZA())}function se(n,t){if(1&n&&(e.TgZ(0,"fuse-alert",30),e._UZ(1,"div",31),e.qZA()),2&n){const a=e.oxw();e.Q6J("appearance","soft")("dismissible",!0)("dismissed",!0)("name","alertBoxTemplates")("type",a.alert.type)("@shake","error"===a.alert.type),e.xp6(1),e.Q6J("innerHTML",a.alert.message,e.oJD)}}function ne(n,t){1&n&&(e.TgZ(0,"td"),e._uU(1,"Descri\xe7\xe3o"),e.qZA())}function ie(n,t){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const a=e.oxw().$implicit;e.xp6(1),e.Oqu(a.descricao)}}function re(n,t){1&n&&(e.ynx(0),e._UZ(1,"mat-icon",45),e.BQk()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:check"))}function le(n,t){1&n&&(e.ynx(0),e._UZ(1,"mat-icon",46),e.BQk()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:x"))}const me=function(n){return{"bg-gray-50":n}};function ce(n,t){if(1&n){const a=e.EpF();e.TgZ(0,"tr",40),e.NdJ("click",function(){const d=e.CHM(a).$implicit,u=e.oxw(3);return e.KtG(u.updateTemplate(d))}),e.TgZ(1,"td",41),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.YNc(5,ie,2,1,"td",25),e.TgZ(6,"td",42)(7,"button",43),e.NdJ("click",function(){const d=e.CHM(a).$implicit,u=e.oxw(3);return e.KtG(u.showPdf(d.template,d.nome))}),e._UZ(8,"mat-icon",44),e.qZA()(),e.TgZ(9,"td"),e.YNc(10,re,2,1,"ng-container",25),e.YNc(11,le,2,1,"ng-container",25),e.qZA()()}if(2&n){const a=t.$implicit,s=e.oxw(3),i=e.MAs(3);e.Q6J("ngClass",e.VKq(7,me,a.id==(null==s.selectedTemplate?null:s.selectedTemplate.id))),e.xp6(2),e.Oqu(a.id),e.xp6(2),e.Oqu(a.nome),e.xp6(1),e.Q6J("ngIf",!i.opened),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:download"),e.xp6(2),e.Q6J("ngIf",a.activo),e.xp6(1),e.Q6J("ngIf",!a.activo)}}const pe=function(n){return{"pointer-events-none":n}},de=function(){return[10,25,100,500]};function ue(n,t){if(1&n&&(e.ynx(0),e.TgZ(1,"table",33)(2,"tr",34)(3,"td",35),e._uU(4,"Nr. Ord"),e.qZA(),e.TgZ(5,"td",36),e._uU(6,"Nome"),e.qZA(),e.YNc(7,ne,2,0,"td",25),e.TgZ(8,"td"),e._uU(9,"Modelo de Documento"),e.qZA(),e.TgZ(10,"td",37),e._uU(11,"Activo"),e.qZA()(),e.YNc(12,ce,12,9,"tr",38),e.qZA(),e._UZ(13,"mat-paginator",39),e.BQk()),2&n){const a=e.oxw().ngIf,s=e.oxw(),i=e.MAs(3);e.xp6(7),e.Q6J("ngIf",!i.opened),e.xp6(5),e.Q6J("ngForOf",a),e.xp6(1),e.Q6J("ngClass",e.VKq(8,pe,s.isLoading))("length",s.pagination.length)("pageIndex",s.pagination.page)("pageSize",s.pagination.size)("pageSizeOptions",e.DdM(10,de))("showFirstLastButtons",!0)}}function he(n,t){if(1&n&&(e.ynx(0),e.YNc(1,ue,14,11,"ng-container",32),e.BQk()),2&n){const a=t.ngIf;e.oxw();const s=e.MAs(33);e.xp6(1),e.Q6J("ngIf",a.length>0)("ngIfElse",s)}}function fe(n,t){if(1&n){const a=e.EpF();e.TgZ(0,"div",47),e._UZ(1,"mat-icon",48),e.TgZ(2,"div",49),e._uU(3," N\xe3o h\xe1 Modelos de Documentos cadastrados! "),e.qZA(),e.TgZ(4,"button",50),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.createTemplate())}),e._UZ(5,"mat-icon",21),e.TgZ(6,"span",29),e._uU(7,"Cadastrar o Primeiro Modelo de Documento"),e.qZA()()()}2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:clipboard-list"),e.xp6(3),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus"))}class w{constructor(t,a,s,i,d,u,y){this._activatedRoute=t,this._changeDetectorRef=a,this._router=s,this._templateService=i,this._fuseMediaWatcherService=d,this._drawerService=u,this._fuseAlertService=y,this.searchInputControl=new l.p4,this._unsubscribeAll=new $.x,this.isLoading=!1,this.showAlert=!1,this.alert={type:"success",message:""}}ngOnInit(){this._fuseMediaWatcherService.onMediaQueryChange$("(min-width: 1440px)").pipe((0,L.R)(this._unsubscribeAll)).subscribe(t=>{this.drawerMode=t.matches?"side":"over",this._changeDetectorRef.markForCheck()}),this._templateService.pagination$.pipe((0,L.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.templates$=this._templateService.templates$}ngAfterViewInit(){this._drawerService.setDrawer(this.matDrawer),this._sort&&this._paginator&&(this._sort.sort({id:"id",start:"asc",disableClear:!0}),this._sort.sortChange.pipe((0,L.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,G.T)(this._sort.sortChange,this._paginator.page).pipe((0,H.w)(()=>{let t=new k.LE;return t=t.append("page",this._paginator.pageIndex),t=t.append("size",this._paginator.pageSize),t=t.append("sort",this._sort.active),t=t.append("order",this._sort.direction),this._templateService.getTemplates(t)})).subscribe()),this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}createTemplate(){this.selectedTemplate=null,this.matDrawer.open()}updateTemplate(t){this.matDrawer.opened||this.matDrawer.open(),this.selectedTemplate=t}trackByFn(t,a){return a.id||t}showAlertEvent(t){this.alert=t,this.showAlert=!0,setTimeout(()=>{this._fuseAlertService.dismiss("alertBoxTemplates"),this._changeDetectorRef.markForCheck()},15e3)}showPdf(t,a){var s=t.split(",");const i=atob(s[1]),d=new Array(i.length);for(let U=0;U<i.length;U++)d[U]=i.charCodeAt(U);var u="";"data:application/vnd.openxmlformats-officedocument.wordprocessingml.document;base64"==s[0]?u=".docx":"data:application/pdf;base64"==s[0]?u=".pdf":"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64"==s[0]?u=".xlsx":"data:application/vnd.openxmlformats-officedocument.presentationml.presentation;base64"==s[0]&&(u=".pptx");const y=new Uint8Array(d),ve=new Blob([y],{type:"application/pdf"}),_e=URL.createObjectURL(ve),R=document.createElement("a");R.href=_e,R.download=a+u,R.click()}applyFilter(t){const a=t;if(null===a||null==a)this._templateService.getTemplates(this._templateService.getTemplateDefaultParams).subscribe();else{let s=new k.LE;s=s.append("nome",a),this._templateService.getTemplates(s).subscribe(),this.searchInputControl.reset()}}}w.\u0275fac=function(t){return new(t||w)(e.Y36(v.gz),e.Y36(e.sBO),e.Y36(v.F0),e.Y36(B.E),e.Y36(X.T),e.Y36(P.z),e.Y36(O.jm))},w.\u0275cmp=e.Xpm({type:w,selectors:[["templates-list"]],viewQuery:function(t,a){if(1&t&&(e.Gf(te,5),e.Gf(N.NW,5),e.Gf(M.YE,5)),2&t){let s;e.iGM(s=e.CRH())&&(a.matDrawer=s.first),e.iGM(s=e.CRH())&&(a._paginator=s.first),e.iGM(s=e.CRH())&&(a._sort=s.first)}},decls:34,vars:20,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","bg-card","dark:bg-transparent",3,"backdropClick"],[1,"w-full","dark:bg-gray-900",2,"width","520px!important",3,"mode","opened","position","disableClose"],["matDrawer",""],[3,"template","alertMessage"],[1,"flex","flex-col"],[1,"flex","flex-col","flex-auto"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-secondary"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-flat-button","",2,"margin-right","-16px",3,"color","click"],[3,"svgIcon"],["mat-flat-button","",1,"ml-4",3,"color","click"],["class","ml-2 mr-1",4,"ngIf"],[3,"appearance","dismissible","dismissed","name","type",4,"ngIf"],[4,"ngIf"],["noTemplates",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[1,"ml-2","mr-1"],[3,"appearance","dismissible","dismissed","name","type"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["matSort",""],[1,"sticky","text-sm","top-0","h-12","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],["mat-sort-header","id",1,"padding-l-40"],["mat-sort-header","nome"],["mat-sort-header","estado"],["class","h-10 text-sm border-b cursor-p",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"h-10","text-sm","border-b","cursor-p",3,"ngClass","click"],[1,"padding-l-40"],[1,"cursor-pointer","pl-4"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6",3,"click"],[1,"icon-size-4",3,"svgIcon"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-gray-400","icon-size-5",3,"svgIcon"],[1,"flex","flex-auto","flex-col","items-center","mt-30"],[1,"icon-size-24",3,"svgIcon"],[1,"text-2xl","font-semibold","tracking-tight","text-secondary"],["mat-flat-button","",1,"ml-4","mt-5",3,"color","click"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"mat-drawer-container",1),e.NdJ("backdropClick",function(){return a.onBackdropClicked()}),e.TgZ(2,"mat-drawer",2,3)(4,"template-form",4),e.NdJ("alertMessage",function(i){return a.showAlertEvent(i)}),e.qZA()(),e.TgZ(5,"mat-drawer-content",5)(6,"div",6)(7,"div",7),e.YNc(8,ae,2,1,"div",8),e.TgZ(9,"div",9)(10,"div",10)(11,"div")(12,"a",11),e._uU(13,"Configura\xe7\xf5es"),e.qZA()(),e.TgZ(14,"div",12),e._UZ(15,"mat-icon",13),e.TgZ(16,"span",14),e._uU(17,"Modelos de Documentos"),e.qZA()()(),e.TgZ(18,"div",15)(19,"h2",16),e._uU(20," Modelos de Documentos "),e.qZA()()(),e.TgZ(21,"div",17)(22,"mat-form-field",18),e._UZ(23,"input",19),e.TgZ(24,"button",20),e.NdJ("click",function(){return a.applyFilter(a.searchInputControl.value)}),e._UZ(25,"mat-icon",21),e.qZA()(),e.TgZ(26,"button",22),e.NdJ("click",function(){return a.createTemplate()}),e._UZ(27,"mat-icon",21),e.YNc(28,oe,2,0,"span",23),e.qZA()()(),e.YNc(29,se,2,7,"fuse-alert",24),e.YNc(30,he,2,2,"ng-container",25),e.ALo(31,"async"),e.YNc(32,fe,8,3,"ng-template",null,26,e.W1O),e.qZA()()()()),2&t){const s=e.MAs(3);e.xp6(2),e.Q6J("mode",a.drawerMode)("opened",!1)("position","end")("disableClose",!0),e.xp6(2),e.Q6J("template",a.selectedTemplate),e.xp6(4),e.Q6J("ngIf",a.isLoading),e.xp6(7),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(7),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("formControl",a.searchInputControl)("autocomplete","off")("placeholder","Pesquisar templates"),e.xp6(1),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:search"),e.xp6(1),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(1),e.Q6J("ngIf",!s.opened),e.xp6(1),e.Q6J("ngIf",a.showAlert),e.xp6(1),e.Q6J("ngIf",e.lcZ(31,18,a.templates$))}},dependencies:[c.lW,g.KE,F.Hw,r.Nt,Z.pW,D.jA,D.kh,D.LW,N.NW,M.YE,M.nU,S.mk,S.sg,S.O5,l.Fj,l.JJ,l.oH,q.W,I,S.Ov],styles:[".cursor-p:hover{cursor:pointer!important;color:#4f46e5}.padding-l-40{padding-left:40px!important}\n"],encapsulation:2,data:{animation:V.L},changeDetection:0});const ge=[{path:"",component:w,resolve:{templates:W.L}}];class A{}A.\u0275fac=function(t){return new(t||A)},A.\u0275mod=e.oAB({type:A}),A.\u0275inj=e.cJS({providers:[{provide:T.sG,useValue:p._O}],imports:[v.Bz.forChild(ge),m._t,f.Bb,c.ot,h.p9,_.FA,x.t,g.lN,F.Ps,r.c,p.En,b.Tx,Z.Cv,E.Fk,T.si,z.LD,D.SJ,Y.AV,N.TU,M.JX,K.V,Q.S1,j.m,O.fC]})},3878:(J,C,o)=>{o.d(C,{E:()=>g});var v=o(529),m=o(1135),f=o(8505),c=o(5698),h=o(3900),T=o(4004),_=o(2340),x=o(4650);class g{constructor(r){this._httpClient=r,this._pagination=new m.X(null),this._template=new m.X(null),this._templates=new m.X(null)}get pagination$(){return this._pagination.asObservable()}get template$(){return this._template.asObservable()}get templates$(){return this._templates.asObservable()}set template$(r){r.subscribe(p=>{this._template.next(p)})}getTemplates(r){return this._httpClient.get(_.N.URL_ROOT_API+"/templates",{params:r}).pipe((0,f.b)(p=>{this._pagination.next(p.pagination),this._templates.next(p.data)}))}getTemplate(r){return this._httpClient.get(_.N.URL_ROOT_API+"/templates/"+r).pipe((0,f.b)(p=>{this._template.next(p.data)}))}get getTemplateDefaultParams(){let r=new v.LE;return r=r.append("page",0),r=r.append("size",15),r}createTemplate(r){return this.templates$.pipe((0,c.q)(1),(0,h.w)(p=>this._httpClient.post(_.N.URL_ROOT_API+"/templates",r).pipe((0,T.U)(b=>b.data))))}updateTemplate(r,p){return this.templates$.pipe((0,c.q)(1),(0,h.w)(b=>this._httpClient.put(_.N.URL_ROOT_API+"/templates/"+p.id,p).pipe((0,T.U)(Z=>Z.data))))}deleteTemplate(r){return this.templates$.pipe((0,c.q)(1),(0,h.w)(p=>this._httpClient.delete(_.N.URL_ROOT_API+"/templates/"+r).pipe((0,T.U)(b=>{const Z=p.findIndex(E=>E.id===r);return p.splice(Z,1),b}))))}}g.\u0275fac=function(r){return new(r||g)(x.LFG(v.eN))},g.\u0275prov=x.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})},9424:(J,C,o)=>{o.d(C,{z:()=>m});var v=o(4650);class m{setDrawer(c){this.matDrawer=c}toggle(){this.matDrawer.toggle()}open(){this.matDrawer.open()}close(){this.matDrawer.close()}opened(){return this.matDrawer?.opened}}m.\u0275fac=function(c){return new(c||m)},m.\u0275prov=v.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}}]);