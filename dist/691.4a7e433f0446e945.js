"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[691],{79:(P,h,e)=>{e.d(h,{V:()=>l});var c=e(4650);class d{constructor(){}transform(u,p,i){return Array.isArray(u)?u.map(E=>i.find(_=>_[p]===E)):i.find(E=>E[p]===u)}}d.\u0275fac=function(u){return new(u||d)},d.\u0275pipe=c.Yjl({name:"fuseFindByKey",type:d,pure:!1});class l{}l.\u0275fac=function(u){return new(u||l)},l.\u0275mod=c.oAB({type:l}),l.\u0275inj=c.cJS({})},2570:(P,h,e)=>{e.d(h,{RW:()=>u,oD:()=>l,zH:()=>n});var c=e(4650),d=e(4693);class l{constructor(i){this._UsersService=i}resolve(i,E){return this._UsersService.getUsers(this._UsersService.getUserDefaultParams)}}l.\u0275fac=function(i){return new(i||l)(c.LFG(d.f))},l.\u0275prov=c.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"});class n{constructor(i){this._UsersService=i}resolve(i,E){return this._UsersService.getGroups()}}n.\u0275fac=function(i){return new(i||n)(c.LFG(d.f))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"});class u{constructor(i){this._UsersService=i}resolve(i,E){return this._UsersService.getRoles()}}u.\u0275fac=function(i){return new(i||u)(c.LFG(d.f))},u.\u0275prov=c.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})},1087:(P,h,e)=>{e.d(h,{G:()=>n});var c=e(4650),d=e(6189),l=e(3878);class n{constructor(p,i){this._tipoDocumentoService=p,this._templateService=i}resolve(p,i){return this._tipoDocumentoService.getTipoDocumentos(this._tipoDocumentoService.getTipoDocumentosDefaultParams)}}n.\u0275fac=function(p){return new(p||n)(c.LFG(d.D),c.LFG(l.E))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})},6189:(P,h,e)=>{e.d(h,{D:()=>_});var c=e(529),d=e(1135),l=e(8505),n=e(5698),u=e(3900),p=e(4004),i=e(2340),E=e(4650);class _{constructor(a){this._httpClient=a,this._pagination=new d.X(null),this._tipoDocumento=new d.X(null),this._tipoDocumentos=new d.X(null)}get pagination$(){return this._pagination.asObservable()}get tipoDocumento$(){return this._tipoDocumento.asObservable()}get tipoDocumentos$(){return this._tipoDocumentos.asObservable()}set tipoDocumento$(a){a.subscribe(r=>{this._tipoDocumento.next(r)})}getTipoDocumentos(a){return this._httpClient.get(i.N.URL_ROOT_API+"/tipos",{params:a}).pipe((0,l.b)(r=>{this._pagination.next(r.pagination),this._tipoDocumentos.next(r.data)}))}getTipoDocumento(a){return this._httpClient.get(i.N.URL_ROOT_API+"/tipos/"+a).pipe((0,l.b)(r=>{this._tipoDocumento.next(r.data)}))}get getTipoDocumentosDefaultParams(){let a=new c.LE;return a=a.append("page",0),a=a.append("size",15),a}createTipoDocumento(a){return this.tipoDocumentos$.pipe((0,n.q)(1),(0,u.w)(r=>this._httpClient.post(i.N.URL_ROOT_API+"/tipos",a).pipe((0,p.U)(D=>D.data))))}updateTipoDocumento(a,r){return this.tipoDocumentos$.pipe((0,n.q)(1),(0,u.w)(D=>this._httpClient.put(i.N.URL_ROOT_API+"/tipos/"+r.id,r).pipe((0,p.U)(x=>x.data))))}deleteTipoDocumento(a){return this.tipoDocumentos$.pipe((0,n.q)(1),(0,u.w)(r=>this._httpClient.delete(i.N.URL_ROOT_API+"/tipos/"+a).pipe((0,p.U)(D=>{const x=r.findIndex(T=>T.id===a);return r.splice(x,1),D}))))}}_.\u0275fac=function(a){return new(a||_)(E.LFG(c.eN))},_.\u0275prov=E.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})},516:(P,h,e)=>{e.d(h,{S:()=>l});var c=e(4650),d=e(5979);class l{constructor(u){this._tipoEntidadeService=u}resolve(){return this._tipoEntidadeService.getEntidades(this._tipoEntidadeService.getEntidadeDefaultParams)}}l.\u0275fac=function(u){return new(u||l)(c.LFG(d.b))},l.\u0275prov=c.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})},5979:(P,h,e)=>{e.d(h,{b:()=>_});var c=e(529),d=e(1135),l=e(8505),n=e(5698),u=e(3900),p=e(4004),i=e(2340),E=e(4650);class _{constructor(a){this._httpClient=a,this._pagination=new d.X(null),this._entidade=new d.X(null),this._entidades=new d.X(null)}get pagination$(){return this._pagination.asObservable()}get entidade$(){return this._entidade.asObservable()}get entidades$(){return this._entidades.asObservable()}set entidade$(a){a.subscribe(r=>{this._entidade.next(r)})}getEntidades(a){return this._httpClient.get(i.N.URL_ROOT_API+"/entidades",{params:a}).pipe((0,l.b)(r=>{this._pagination.next(r.pagination),this._entidades.next(r.data)}))}getEntidade(a){return this._httpClient.get(i.N.URL_ROOT_API+"/entidades/"+a).pipe((0,l.b)(r=>{this._entidade.next(r.data)}))}get getEntidadeDefaultParams(){let a=new c.LE;return a=a.append("page",0),a=a.append("size",15),a}createEntidade(a){return this.entidades$.pipe((0,n.q)(1),(0,u.w)(r=>this._httpClient.post(i.N.URL_ROOT_API+"/entidades",a).pipe((0,p.U)(D=>D.data))))}updateEntidade(a,r){return this.entidades$.pipe((0,n.q)(1),(0,u.w)(D=>this._httpClient.put(i.N.URL_ROOT_API+"/entidades/"+r.id,r).pipe((0,p.U)(x=>x.data))))}deleteEntidade(a){return this.entidades$.pipe((0,n.q)(1),(0,u.w)(r=>this._httpClient.delete(i.N.URL_ROOT_API+"/entidades/"+a).pipe((0,p.U)(D=>{const x=r.findIndex(T=>T.id===a);return r.splice(x,1),D}))))}}_.\u0275fac=function(a){return new(a||_)(E.LFG(c.eN))},_.\u0275prov=E.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})},3878:(P,h,e)=>{e.d(h,{E:()=>_});var c=e(529),d=e(1135),l=e(8505),n=e(5698),u=e(3900),p=e(4004),i=e(2340),E=e(4650);class _{constructor(a){this._httpClient=a,this._pagination=new d.X(null),this._template=new d.X(null),this._templates=new d.X(null)}get pagination$(){return this._pagination.asObservable()}get template$(){return this._template.asObservable()}get templates$(){return this._templates.asObservable()}set template$(a){a.subscribe(r=>{this._template.next(r)})}getTemplates(a){return this._httpClient.get(i.N.URL_ROOT_API+"/templates",{params:a}).pipe((0,l.b)(r=>{this._pagination.next(r.pagination),this._templates.next(r.data)}))}getTemplate(a){return this._httpClient.get(i.N.URL_ROOT_API+"/templates/"+a).pipe((0,l.b)(r=>{this._template.next(r.data)}))}get getTemplateDefaultParams(){let a=new c.LE;return a=a.append("page",0),a=a.append("size",15),a}createTemplate(a){return this.templates$.pipe((0,n.q)(1),(0,u.w)(r=>this._httpClient.post(i.N.URL_ROOT_API+"/templates",a).pipe((0,p.U)(D=>D.data))))}updateTemplate(a,r){return this.templates$.pipe((0,n.q)(1),(0,u.w)(D=>this._httpClient.put(i.N.URL_ROOT_API+"/templates/"+r.id,r).pipe((0,p.U)(x=>x.data))))}deleteTemplate(a){return this.templates$.pipe((0,n.q)(1),(0,u.w)(r=>this._httpClient.delete(i.N.URL_ROOT_API+"/templates/"+a).pipe((0,p.U)(D=>{const x=r.findIndex(T=>T.id===a);return r.splice(x,1),D}))))}}_.\u0275fac=function(a){return new(a||_)(E.LFG(c.eN))},_.\u0275prov=E.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})},2691:(P,h,e)=>{e.r(h),e.d(h,{EtiquetasProtocoloModule:()=>Z});var c=e(9299),d=e(1206),l=e(7957),n=e(4859),u=e(6709),p=e(3238),i=e(9602),E=e(4850),_=e(9549),O=e(7392),a=e(284),r=e(9506),D=e(8255),x=e(3162),T=e(1948),Q=e(4385),M=e(3267),z=e(266),w=e(79),j=e(4466),y=e(8739),G=e(3745),R=e(6308),B=e(7775),U=e(5412),$=e(7084),K=e(3231),C=e(3848),N=e(455),X=e(8046),et=e(6562),ot=e(3817),k=e(2570),at=e(7579),q=e(2722),st=e(6451),nt=e(3900),f=e(4006),it=e(8288),J=e(529),tt=e(5439),rt=e(9957),b=e(2340),t=e(4650),H=e(1135),lt=e(8505);class I{constructor(o){this._httpClient=o,this._pagination=new H.X(null),this._etiqueta=new H.X(null),this._etiquetas=new H.X(null)}get pagination$(){return this._pagination.asObservable()}get etiqueta$(){return this._etiqueta.asObservable()}get etiquetas$(){return this._etiquetas.asObservable()}set etiqueta$(o){o.subscribe(s=>{this._etiqueta.next(s)})}getEtiquetas(o){return this._httpClient.get(b.N.URL_ROOT_API+"/etiquetas/protocolos",{params:o}).pipe((0,lt.b)(s=>{this._pagination.next(s.pagination),this._etiquetas.next(s.data)}))}get getDocumentosDefaultParams(){let o=new J.LE;return o=o.append("sort","id"),o=o.append("order","desc"),o=o.append("page",0),o=o.append("size",10),o}auditSawEvent(o){return this._httpClient.post(b.N.URL_ROOT_API+"/entradas/audit",o)}saveEtiquetas(o){return this._httpClient.post(b.N.URL_ROOT_API+"/etiquetas/protocolos",o)}deleteEtiqueta(o){return this._httpClient.delete(b.N.URL_ROOT_API+"/etiquetas/protocolos/"+o)}}I.\u0275fac=function(o){return new(o||I)(t.LFG(J.eN))},I.\u0275prov=t.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"});class S{constructor(o,s,g,v,A,W,V){this.dialogRef=o,this.fb=s,this._formBuilder=g,this._etiquetasProtocoloService=v,this._fuseAlertService=A,this.data=W,this._changeDetectorRef=V,this.alert={type:"success",message:""}}ngOnInit(){this.formEtiqueta=this.fb.group({id:new f.NI(""),nome:new f.NI(""),quantidade:new f.NI(""),duplicacao:new f.NI(""),incluirData:new f.NI(!1)})}onNoClick(){this.dialogRef.close()}saveEtiqueta(o){const s={next:g=>{this.alert={type:"success",message:"Estado do actualizado com successo!"},this._fuseAlertService.show("alertBoxDocumentos"),this.dialogRef.close({alert:this.alert,registo:g})},error:g=>{this.alert={type:"error",message:`${g.message}`},this._fuseAlertService.show("alertBoxDocumentos"),this.dialogRef.close({alert:this.alert,registo:null})}};this._etiquetasProtocoloService.saveEtiquetas(o).subscribe(s)}}S.\u0275fac=function(o){return new(o||S)(t.Y36(U.so),t.Y36(f.qu),t.Y36(f.QS),t.Y36(I),t.Y36(B.jm),t.Y36(U.WI),t.Y36(t.sBO))},S.\u0275cmp=t.Xpm({type:S,selectors:[["app-form"]],decls:48,vars:9,consts:[[1,"relative","overflow-auto"],[1,"relative","flex","flex-col"],[1,"flex","items-center","justify-center","sm:justify-start","px-6","pt-3","space-x-3","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],[1,"gt-xs:max-w-80","gt-xs:pr-12","flex","justify-center"],[1,"text-xl","leading-6","font-medium"],[1,"text-secondary","mb-6"],[1,"absolute","top-0","right-0","pt-4","pr-4"],["mat-icon-button","",3,"matDialogClose"],["svgIcon","heroicons_outline:x",1,"text-secondary"],[1,"border-t"],[1,"px-4","pt-4","bg-card","overflow-hidden",3,"formGroup"],[1,"flex","flex-col","sm:flex-row","flex-auto","items-center","sm:items-start","p-4","pb-2","sm:pb-4"],[1,"flex","flex-col","w-full"],[1,"flex-auto","w-[100%]"],[1,"flex","gap-2"],[1,"flex-auto","fuse-mat-dense"],["matInput","","formControlName","nome",3,"placeholder"],["matInput","","formControlName","quantidade",3,"placeholder"],["matInput","","formControlName","duplicacao",3,"placeholder"],[1,"flex-auto"],["color","warn","formControlName","incluirData"],[1,"flex","items-center","justify-center","sm:justify-end","px-6","py-4","space-x-3","dark:bg-opacity-10","mt-4"],["mat-stroked-button","",1,"ml-4","border-rad-5",3,"matDialogClose"],["mat-flat-button","","color","primary",1,"ml-4","border-rad-5",3,"disabled","matDialogClose","click"],[3,"svgIcon"],[1,"ml-2","mr-1"]],template:function(o,s){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.ynx(2),t.TgZ(3,"div",2)(4,"div",3)(5,"div")(6,"p",4),t._uU(7,"Formul\xe1rio para Gera\xe7\xe3o de Protocolos"),t.qZA(),t.TgZ(8,"p",5),t._uU(9," Informe os dados das Etiquetas "),t.qZA()()()(),t.BQk(),t.ynx(10),t.TgZ(11,"div",6)(12,"button",7),t._UZ(13,"mat-icon",8),t.qZA()(),t.BQk(),t._UZ(14,"div",9),t.TgZ(15,"form",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"mat-form-field",15)(21,"mat-label"),t._uU(22,"Nome da Etiqueta"),t.qZA(),t._UZ(23,"input",16),t.qZA()(),t.TgZ(24,"div",14)(25,"mat-form-field",15)(26,"mat-label"),t._uU(27,"Quantidade"),t.qZA(),t._UZ(28,"input",17),t.qZA(),t.TgZ(29,"mat-form-field",15)(30,"mat-label"),t._uU(31,"Duplica\xe7\xe3o"),t.qZA(),t._UZ(32,"input",18),t.qZA()(),t.TgZ(33,"div",14)(34,"div",19)(35,"mat-slide-toggle",20),t._uU(36,"Incluir data"),t.qZA()()()()()()(),t._UZ(37,"div",9),t.ynx(38),t.TgZ(39,"div",21),t.ynx(40),t.TgZ(41,"button",22),t._uU(42," Cancelar "),t.qZA(),t.BQk(),t.ynx(43),t.TgZ(44,"button",23),t.NdJ("click",function(){return s.saveEtiqueta(s.formEtiqueta.value)}),t._UZ(45,"mat-icon",24),t.TgZ(46,"span",25),t._uU(47,"Gerar"),t.qZA()(),t.BQk(),t.qZA(),t.BQk(),t.qZA()()),2&o&&(t.xp6(12),t.Q6J("matDialogClose",void 0),t.xp6(3),t.Q6J("formGroup",s.formEtiqueta),t.xp6(8),t.Q6J("placeholder","Informe o nome da Etiqueta"),t.xp6(5),t.Q6J("placeholder","Informe a Quantidade de Etiqueta"),t.xp6(4),t.Q6J("placeholder","Informe o numero de duplica\xe7\xe3o"),t.xp6(9),t.Q6J("matDialogClose",void 0),t.xp6(3),t.Q6J("disabled",!s.formEtiqueta.valid)("matDialogClose",s.formEtiqueta.value),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:pencil-alt"))},dependencies:[n.lW,n.RK,_.KE,_.hX,O.Hw,a.Nt,f._Y,f.Fj,f.JJ,f.JL,f.sg,f.u,U.ZT,N.Rr]});var ct=e(4880),dt=e(9424),ut=e(4693),mt=e(2534),pt=e(6757),Y=e(6895),_t=e(8214);const gt=["matDrawer"];function ft(m,o){if(1&m&&t._UZ(0,"app-preview-detail",37),2&m){const s=t.oxw();t.Q6J("registo",s.selectedDocumento)}}function ht(m,o){1&m&&(t.TgZ(0,"div",38),t._UZ(1,"mat-progress-bar",39),t.qZA()),2&m&&(t.xp6(1),t.Q6J("mode","indeterminate"))}function vt(m,o){1&m&&(t.TgZ(0,"div",40)(1,"h2",41),t._uU(2," Protocolos "),t.qZA()())}function Et(m,o){if(1&m&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&m){const s=t.oxw(2);t.xp6(1),t.hij(" ",s.alert.message," ")}}function Dt(m,o){if(1&m&&(t.TgZ(0,"fuse-alert",42),t.YNc(1,Et,2,1,"div",43),t.qZA()),2&m){const s=t.oxw();t.Q6J("appearance","soft")("dismissible",!0)("dismissed",!0)("name","alertBoxDocumentos")("type",s.alert.type)("@shake","error"===s.alert.type),t.xp6(1),t.Q6J("ngIf","success"===s.alert.type)}}function xt(m,o){if(1&m){const s=t.EpF();t.TgZ(0,"tr",53)(1,"td",54),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"label",55),t._uU(5),t.qZA()(),t.TgZ(6,"td",56),t._uU(7),t.qZA(),t.TgZ(8,"td",56),t._uU(9),t.qZA(),t.TgZ(10,"td")(11,"label",55),t._uU(12),t.qZA()(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"td")(17,"button",57),t._UZ(18,"mat-icon",58),t.qZA(),t.TgZ(19,"a",59),t._UZ(20,"mat-icon",18),t.TgZ(21,"span",60),t._uU(22,"Baixar Etiquetas PDF"),t.qZA()(),t.TgZ(23,"button",61),t.NdJ("click",function(){const A=t.CHM(s).$implicit,W=t.oxw(2);return t.KtG(W.anexoFullPage(A))}),t._UZ(24,"mat-icon",18),t.TgZ(25,"span"),t._uU(26,"Imprimir Etiquetas"),t.qZA()()()()}if(2&m){const s=o.$implicit,g=o.index,v=t.oxw(2);t.xp6(2),t.Oqu(g+1),t.xp6(2),t.Q6J("ngClass",v.getCustomBadgeClass("KAILA")),t.xp6(1),t.Oqu(s.nome),t.xp6(2),t.Oqu(s.quantidade),t.xp6(2),t.Oqu(s.duplicacao),t.xp6(2),t.Q6J("ngClass",v.getCustomBadgeClass("SIM")),t.xp6(1),t.Oqu(s.incluirData?"SIM":"N\xc3O"),t.xp6(2),t.Oqu(t.xi3(15,14,s.created_at,"dd/MM/yyyy hh:mm:ss")),t.xp6(4),t.Q6J("svgIcon","heroicons_outline:eye"),t.xp6(1),t.Q6J("href",v.anexoDownload(null==s?null:s.id),t.LSH)("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:download"),t.xp6(3),t.Q6J("color","accent"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:printer")}}const Ot=function(m){return{"pointer-events-none":m}},Pt=function(){return[10,25,100,500]};function Tt(m,o){if(1&m&&(t.ynx(0),t.TgZ(1,"table",44)(2,"tr",45)(3,"td",46),t._uU(4,"Nr. Ord"),t.qZA(),t.TgZ(5,"td",47),t._uU(6,"Nome Etiqueta"),t.qZA(),t.TgZ(7,"td",48),t._uU(8,"Quantidade"),t.qZA(),t.TgZ(9,"td",49),t._uU(10,"Duplica\xe7\xe3o"),t.qZA(),t.TgZ(11,"td",49),t._uU(12,"Mostrar Data"),t.qZA(),t.TgZ(13,"td",50),t._uU(14,"Data"),t.qZA(),t.TgZ(15,"td"),t._uU(16,"Ac\xe7\xe3o"),t.qZA()(),t.YNc(17,xt,27,17,"tr",51),t.qZA(),t._UZ(18,"mat-paginator",52),t.BQk()),2&m){const s=t.oxw();t.xp6(17),t.Q6J("ngForOf",s.documentos),t.xp6(1),t.Q6J("ngClass",t.VKq(7,Ot,s.isLoading))("length",s.pagination.length)("pageIndex",s.pagination.page)("pageSize",s.pagination.size)("pageSizeOptions",t.DdM(9,Pt))("showFirstLastButtons",!0)}}function At(m,o){1&m&&(t.TgZ(0,"div",62),t._UZ(1,"mat-icon",63),t.TgZ(2,"div",64),t._uU(3," N\xe3o h\xe1 Documentos cadastrados! "),t.qZA()()),2&m&&(t.xp6(1),t.Q6J("svgIcon","heroicons_outline:clipboard-list"))}class F{constructor(o,s,g,v,A,W,V,Mt,Rt,Lt,Zt,yt){this._activatedRoute=o,this._changeDetectorRef=s,this._router=g,this._documentoService=v,this._fuseMediaWatcherService=A,this._drawerService=W,this.dialog=V,this._fuseAlertService=Mt,this._usersService=Rt,this.fb=Lt,this._anexosService=Zt,this._anexosPendentes=yt,this.flashMessage=null,this.isLoading=!1,this.searchInputControl=new f.p4,this._unsubscribeAll=new at.x,this.showAlert=!1,this.alert={type:"success",message:""},this.resetForm()}ngOnInit(){this._fuseMediaWatcherService.onMediaQueryChange$("(min-width: 1440px)").pipe((0,q.R)(this._unsubscribeAll)).subscribe(o=>{this.drawerMode=o.matches?"side":"over",this._changeDetectorRef.markForCheck()}),this._documentoService.pagination$.pipe((0,q.R)(this._unsubscribeAll)).subscribe(o=>{this.pagination=o,this._changeDetectorRef.markForCheck()}),this._documentoService.etiquetas$.subscribe(o=>{this.documentos=o})}ngAfterViewInit(){this._drawerService.setDrawer(this.matDrawer),this._sort&&this._paginator&&(this._sort.sort({id:"id",start:"desc",disableClear:!0}),this._sort.sortChange.pipe((0,q.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0,this._changeDetectorRef.markForCheck()}),(0,st.T)(this._sort.sortChange,this._paginator.page).pipe((0,nt.w)(()=>{let o=new J.LE;return o=o.append("page",this._paginator.pageIndex),o=o.append("size",this._paginator.pageSize),o=o.append("sort",this._sort.active),o=o.append("order",this._sort.direction),this._documentoService.getEtiquetas(o)})).subscribe(),this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}resetForm(){this.formPesquisa=this.fb.group({pesquisaPor:new f.NI(""),localizacaoScannerId:new f.NI(""),periodoInicio:new f.NI,periodoFim:new f.NI})}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}trackByFn(o,s){return s.id||o}showAlertEvent(o){this.alert=o,this.showAlert=!0,setTimeout(()=>{this._fuseAlertService.dismiss("alertBoxDocumentos"),this._changeDetectorRef.markForCheck()},15e3)}applyFilter(o){}openDialog(){this.dialog.open(S).updateSize("640px","440px").afterClosed().subscribe(s=>{null!=s&&(console.log("result"),console.log(s),this.showAlert=!0,this.alert={type:"success",message:"Documentos classificados com sucesso."},this._fuseAlertService.show("alertBoxDocumentos"),setTimeout(()=>{this._fuseAlertService.dismiss("alertBoxDocumentos"),this._changeDetectorRef.markForCheck(),this.showAlert=!1},15e3),this.searchDocumentos())})}getCustomBadgeClass(o){var s="text-blue-800 bg-blue-100";return"KAILA"==o?s="text-green-800 bg-green-100":"EM ELABORA\xc7\xc3O"==o?s="text-blue-800 bg-blue-100":"ARQUIVADO"==o?s="text-yellow-800 bg-yellow-100":"CONCLU\xcdDO"==o&&(s="text-gray-800 bg-gray-100"),s}searchDocumentos(){const o=this.formPesquisa.controls.periodoInicio.value,s=this.formPesquisa.controls.periodoFim.value,g=this.formPesquisa.controls.pesquisaPor.value;let v=new J.LE;""!=o&&null!=o&&(v=v.append("periodoInicio",tt(o).format("YYYY-MM-DD"))),""!=s&&null!=s&&(v=v.append("periodoFim",tt(s).format("YYYY-MM-DD"))),""!=g&&(v=v.append("pesquisaPor",g)),v=v.append("page",0).append("size",8).append("sort",this._sort?.active).append("order",this._sort?.direction),this._documentoService.getEtiquetas(v).subscribe(A=>{this.documentos=A.data})}refresh(){this.resetForm(),this._documentoService.getEtiquetas(this._documentoService.getDocumentosDefaultParams).subscribe(),this._documentoService.etiquetas$.subscribe(o=>{this.documentos=o})}anexoDownload(o){return b.N.URL_ROOT_API+"/etiquetas/protocolos/download/"+o}anexoFullPage(o){this.dialog.open(rt.O,{data:{anexo:{id:o.id,tipo:"E",extensao:".pdf"}}}).updateSize("1000px","700px")}viewRegisto(){this.anexoFullPage({id:1})}}F.\u0275fac=function(o){return new(o||F)(t.Y36(c.gz),t.Y36(t.sBO),t.Y36(c.F0),t.Y36(I),t.Y36(ct.T),t.Y36(dt.z),t.Y36(U.uw),t.Y36(B.jm),t.Y36(ut.f),t.Y36(f.qu),t.Y36(mt.d),t.Y36(pt.c))},F.\u0275cmp=t.Xpm({type:F,selectors:[["app-list"]],viewQuery:function(o,s){if(1&o&&(t.Gf(gt,5),t.Gf(y.NW,5),t.Gf(R.YE,5)),2&o){let g;t.iGM(g=t.CRH())&&(s.matDrawer=g.first),t.iGM(g=t.CRH())&&(s._paginator=g.first),t.iGM(g=t.CRH())&&(s._sort=g.first)}},decls:47,vars:22,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden","h-full"],[1,"h-full",3,"backdropClick"],[1,"w-full","dark:bg-gray-900",2,"width","680px!important",3,"mode","opened","position","disableClose"],["matDrawer",""],[3,"registo",4,"ngIf"],[1,"flex","flex-col"],[1,"flex","flex-col","flex-auto"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-4","px-6","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-secondary"],["class","mt-2",4,"ngIf"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4",2,"background-color","white","border-radius","5px"],[1,"flex","items-center","px-4",3,"click"],[1,"scale-[.75]",3,"svgIcon"],[1,"flex","items-center"],[3,"svgIcon"],[3,"appearance","dismissible","dismissed","name","type",4,"ngIf"],[1,"relative","flex-auto","h-full","bg-card","dark:bg-transparent"],[1,"flex","w-full","px-4",3,"formGroup"],[1,"flex-auto","fuse-mat-dense","fuse-mat-rounded","mt-5","mr-4"],["formControlName","pesquisaPor","matInput","",3,"placeholder"],[3,"formGroup","rangePicker"],["matStartDate","","placeholder","Data inicio","formControlName","periodoInicio"],["matEndDate","","placeholder","Data fim","formControlName","periodoFim"],["matSuffix","",3,"for"],["campaignOnePicker",""],["mat-flat-button","",1,"ml-4","mt-5",3,"color","click"],[1,"ml-2","mr-1"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-hidden","sm:overflow-y-auto"],[4,"ngIf","ngIfElse"],["noDocumentos",""],[3,"registo"],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[3,"appearance","dismissible","dismissed","name","type"],[4,"ngIf"],["matSort","",1,""],[1,"sticky","top-0","h-10","shadow","text-sm","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],["mat-sort-header","id",1,"pl-5","pr-4"],["mat-sort-header","nome"],["mat-sort-header","localizacaoScannerId"],["mat-sort-header","tamanho"],["mat-sort-header","created_at"],["class","h-9 border-b cursor-p text-sm mat-row",4,"ngFor","ngForOf"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"h-9","border-b","cursor-p","text-sm","mat-row"],[1,"cursor-p","pl-5","pr-4"],[1,"py-0.5","px-2","rounded-full","text-center","font-medium","font-size-08",3,"ngClass"],[1,"cursor-p"],[1,"mt-4"],[1,"scale-[.75]","rounded","pt-1",3,"svgIcon"],["mat-flat-button","",1,"scale-[.75]","mt--10",2,"margin-right","0px",3,"href","color"],[1,""],["mat-flat-button","",1,"scale-[.75]","mt--10",2,"margin-left","-30px",3,"color","click"],[1,"flex","flex-auto","flex-col","items-center","mt-30"],[1,"icon-size-24",3,"svgIcon"],[1,"text-2xl","font-semibold","tracking-tight","text-secondary"]],template:function(o,s){if(1&o&&(t.TgZ(0,"div",0)(1,"mat-drawer-container",1),t.NdJ("backdropClick",function(){return s.onBackdropClicked()}),t.TgZ(2,"mat-drawer",2,3),t.YNc(4,ft,1,1,"app-preview-detail",4),t.qZA(),t.TgZ(5,"mat-drawer-content",5)(6,"div",6)(7,"div",7),t.YNc(8,ht,2,1,"div",8),t.TgZ(9,"div",9)(10,"div",10)(11,"div")(12,"a",11),t._uU(13,"Pesquisa"),t.qZA()(),t.TgZ(14,"div",12),t._UZ(15,"mat-icon",13),t.TgZ(16,"span",14),t._uU(17,"Etiquetas"),t.qZA()()(),t.YNc(18,vt,3,0,"div",15),t.qZA(),t.TgZ(19,"div",16)(20,"button",17),t.NdJ("click",function(){return s.refresh()}),t._UZ(21,"mat-icon",18),t.qZA(),t.TgZ(22,"button",19),t._UZ(23,"mat-icon",20),t.qZA()()(),t.YNc(24,Dt,2,7,"fuse-alert",21),t.TgZ(25,"div",22)(26,"form",23)(27,"mat-form-field",24),t._UZ(28,"input",25),t.qZA(),t.TgZ(29,"mat-form-field",24)(30,"mat-date-range-input",26),t._UZ(31,"input",27)(32,"input",28),t.qZA(),t._UZ(33,"mat-datepicker-toggle",29)(34,"mat-date-range-picker",null,30),t.qZA(),t.TgZ(36,"button",31),t.NdJ("click",function(){return s.searchDocumentos()}),t._UZ(37,"mat-icon",20),t.qZA(),t.TgZ(38,"button",31),t.NdJ("click",function(){return s.openDialog()}),t._UZ(39,"mat-icon",20),t.TgZ(40,"span",32),t._uU(41,"Gerar Etiquetas"),t.qZA()()(),t.TgZ(42,"div",33)(43,"div",34),t.YNc(44,Tt,19,10,"ng-container",35),t.YNc(45,At,4,1,"ng-template",null,36,t.W1O),t.qZA()()()()()()()),2&o){const g=t.MAs(3),v=t.MAs(35),A=t.MAs(46);t.xp6(2),t.Q6J("mode",s.drawerMode)("opened",!1)("position","end")("disableClose",!0),t.xp6(2),t.Q6J("ngIf",null!=s.selectedDocumento),t.xp6(4),t.Q6J("ngIf",s.isLoading),t.xp6(7),t.Q6J("svgIcon","heroicons_solid:chevron-right"),t.xp6(3),t.Q6J("ngIf",!g.opened),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:refresh"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:dots-vertical"),t.xp6(1),t.Q6J("ngIf",s.showAlert),t.xp6(2),t.Q6J("formGroup",s.formPesquisa),t.xp6(2),t.Q6J("placeholder","Pesquisar por"),t.xp6(2),t.Q6J("formGroup",s.formPesquisa)("rangePicker",v),t.xp6(3),t.Q6J("for",v),t.xp6(3),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:search"),t.xp6(1),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:pencil-alt"),t.xp6(5),t.Q6J("ngIf",!0)("ngIfElse",A)}},dependencies:[n.zs,n.lW,i.nW,i.wx,i.zY,i.By,i._g,_.KE,_.R9,O.Hw,a.Nt,x.pW,M.jA,M.kh,M.LW,y.NW,R.YE,R.nU,Y.mk,Y.sg,Y.O5,f._Y,f.Fj,f.JJ,f.JL,f.sg,f.u,_t.W,Y.uU],styles:[".cursor-p:hover{cursor:pointer!important;color:#4f46e5}.padding-l-40{padding-left:40px!important}.mat-row:nth-child(even){background-color:#fff}.mat-row:nth-child(odd){background-color:rgb(248 250 252/var(--tw-bg-opacity))}.font-size-08{font-size:.8em}.mt--10{margin-top:-15px}\n"],encapsulation:2,data:{animation:it.L},changeDetection:0});class L{constructor(o){this._documentoService=o}resolve(o,s){return this._documentoService.getEtiquetas(this._documentoService.getDocumentosDefaultParams)}}L.\u0275fac=function(o){return new(o||L)(t.LFG(I))},L.\u0275prov=t.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"});var Ct=e(1087),It=e(516);const Ut=[{path:"",component:F,resolve:{documentos:L,grupos:k.zH,documentosTipos:Ct.G,entidades:It.S,users:k.oD}}];class Z{}Z.\u0275fac=function(o){return new(o||Z)},Z.\u0275mod=t.oAB({type:Z}),Z.\u0275inj=t.cJS({imports:[c.Bz.forChild(Ut),d._t,l.Bb,n.ot,u.p9,i.FA,E.t,_.lN,O.Ps,a.c,r.En,D.Tx,x.Cv,T.Fk,p.si,Q.LD,M.SJ,z.AV,y.TU,R.JX,w.V,G.S1,j.m,K.Co,U.Is,$.To,B.fC,C.Nh,N.rP,X.y,et.k,ot.AuditoriaModule]})},6562:(P,h,e)=>{e.d(h,{k:()=>C});var c=e(6895),d=e(3745),l=e(1206),n=e(4006),u=e(9506),p=e(7957),i=e(4859),E=e(6709),_=e(9602),O=e(5412),a=e(4850),r=e(7084),D=e(9549),x=e(7392),T=e(284),Q=e(8255),M=e(4385),z=e(455),w=e(3848),j=e(7775),y=e(8171),G=e(3930),R=e(7494),B=e(3231),U=e(7155),$=e(811),K=e(4650);class C{}C.\u0275fac=function(X){return new(X||C)},C.\u0275mod=K.oAB({type:C}),C.\u0275inj=K.cJS({imports:[c.ez,l._t,p.Bb,i.ot,E.p9,a.t,D.lN,x.Ps,T.c,u.En,Q.Tx,M.LD,d.S1,j.fC,B.Co,w.Nh,z.rP,_.FA,r.To,R.Yi,y.cX,G.g3,O.Is,c.ez,n.u5,U.p0,$.vV,n.UX]})},6757:(P,h,e)=>{e.d(h,{c:()=>n});var c=e(2340),d=e(4650),l=e(529);class n{constructor(p){this._httpClient=p}getAnexosPendentes(p){return this._httpClient.get(c.N.URL_ROOT_API+"/anexos/pendentes",{params:p})}getLocalizacaoScanners(){return this._httpClient.get(c.N.URL_ROOT_API+"/scanners")}}n.\u0275fac=function(p){return new(p||n)(d.LFG(l.eN))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})},9424:(P,h,e)=>{e.d(h,{z:()=>d});var c=e(4650);class d{setDrawer(n){this.matDrawer=n}toggle(){this.matDrawer.toggle()}open(){this.matDrawer.open()}close(){this.matDrawer.close()}opened(){return this.matDrawer?.opened}}d.\u0275fac=function(n){return new(n||d)},d.\u0275prov=c.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}}]);