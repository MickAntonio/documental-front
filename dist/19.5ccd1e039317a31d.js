"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[19],{79:(O,b,r)=>{r.d(b,{V:()=>u});var f=r(4650);class d{constructor(){}transform(p,h,m){return Array.isArray(p)?p.map(_=>m.find(N=>N[h]===_)):m.find(_=>_[h]===p)}}d.\u0275fac=function(p){return new(p||d)},d.\u0275pipe=f.Yjl({name:"fuseFindByKey",type:d,pure:!1});class u{}u.\u0275fac=function(p){return new(p||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({})},7019:(O,b,r)=>{r.r(b),r.d(b,{UsersModule:()=>A});var f=r(9299),d=r(4859),u=r(6709),c=r(9549),p=r(7392),h=r(284),m=r(8255),_=r(8739),N=r(3162),Q=r(3238),T=r(6308),J=r(4385),P=r(455),Y=r(266),R=r(4466),i=r(4006),B=r(7579),M=r(2722),L=r(6451),G=r(3900),j=r(8288),e=r(4650),x=r(5412),q=r(4693),w=r(7775),Z=r(6895),U=r(6257),v=r(7084),D=r(3745),C=r(3231);function $(n,o){1&n&&e._uU(0,"Dados da conta")}function K(n,o){1&n&&e._UZ(0,"mat-icon",59),2&n&&e.Q6J("svgIcon","heroicons_solid:eye")}function W(n,o){1&n&&e._UZ(0,"mat-icon",59),2&n&&e.Q6J("svgIcon","heroicons_solid:eye-off")}function H(n,o){1&n&&e._UZ(0,"mat-icon",59),2&n&&e.Q6J("svgIcon","heroicons_solid:eye")}function V(n,o){1&n&&e._UZ(0,"mat-icon",59),2&n&&e.Q6J("svgIcon","heroicons_solid:eye-off")}function X(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"mat-form-field",17)(2,"mat-label"),e._uU(3,"Palavra-passe"),e.qZA(),e._UZ(4,"input",53,54),e.TgZ(6,"button",55),e.NdJ("click",function(){e.CHM(t);const a=e.MAs(5);return e.KtG(a.type="password"===a.type?"text":"password")}),e.YNc(7,K,1,1,"mat-icon",56),e.YNc(8,W,1,1,"mat-icon",56),e.qZA(),e.TgZ(9,"mat-error"),e._uU(10," Palavra-passe Obrigat\xf3ria "),e.qZA()(),e._uU(11," \xa0 "),e.TgZ(12,"mat-form-field",17)(13,"mat-label"),e._uU(14,"Confirma\xe7\xe3o da Palavra-passe"),e.qZA(),e._UZ(15,"input",57,58),e.TgZ(17,"button",55),e.NdJ("click",function(){e.CHM(t);const a=e.MAs(16);return e.KtG(a.type="password"===a.type?"text":"password")}),e.YNc(18,H,1,1,"mat-icon",56),e.YNc(19,V,1,1,"mat-icon",56),e.qZA(),e.TgZ(20,"mat-error"),e._uU(21," As Palavra-passe devem corresponder "),e.qZA()()()}if(2&n){const t=e.MAs(5),s=e.MAs(16);e.xp6(4),e.Q6J("placeholder","Informe a Palavra-passe"),e.xp6(3),e.Q6J("ngIf","password"===t.type),e.xp6(1),e.Q6J("ngIf","text"===t.type),e.xp6(7),e.Q6J("placeholder","Confirme a Palavra-passe"),e.xp6(3),e.Q6J("ngIf","password"===s.type),e.xp6(1),e.Q6J("ngIf","text"===s.type)}}function ee(n,o){1&n&&e._uU(0,"Permiss\xf5es")}function te(n,o){if(1&n&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function oe(n,o){if(1&n&&(e.ynx(0),e.YNc(1,te,2,2,"mat-option",60),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.searchGroups)}}function ne(n,o){if(1&n&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function se(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ne,2,2,"mat-option",60),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.searchGroups)}}function ie(n,o){if(1&n&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t.id),e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function re(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ie,2,3,"mat-option",60),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.searchRoles)}}function ae(n,o){if(1&n&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t.id),e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function le(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ae,2,3,"mat-option",60),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.searchRoles)}}function ce(n,o){if(1&n&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function pe(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ce,2,2,"mat-option",60),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.searchGroups)}}function me(n,o){if(1&n&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function ue(n,o){if(1&n&&(e.ynx(0),e.YNc(1,me,2,2,"mat-option",60),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.searchGroups)}}function de(n,o){1&n&&e._uU(0,"Resumo")}class y{constructor(o,t,s,a,l,g,E){this.dialogRef=o,this.fb=t,this.data=s,this._formBuilder=a,this._changeDetectorRef=l,this._userService=g,this._fuseAlertService=E,this.formUser=new i.cw({name:new i.NI(""),email:new i.NI(""),password:new i.NI(""),password_confirmation:new i.NI(""),avatar:new i.NI(""),active:new i.NI("")}),this.panelOpenState=!1,this.showPassword=!0,this.alertMessage=new e.vpe,this.alert={type:"success",message:""}}ngOnInit(){this.horizontalStepperForm=this.fb.group({step1:this.fb.group({id:this.data?.id,username:new i.NI(this.data?.username,[i.kI.required]),email:new i.NI(this.data?.email,[i.kI.required,i.kI.email]),password:new i.NI("",[null==this.data?.id?i.kI.required:i.kI.nullValidator]),password_confirmation:new i.NI("",[null==this.data?.id?i.kI.required:i.kI.nullValidator]),firstName:new i.NI(this.data?.firstName),lastName:new i.NI(this.data?.lastName),phone_number:new i.NI(this.data?.attributes?.phone_number),avatar:new i.NI,enabled:new i.NI(this.data?.enabled),fileBase64:new i.NI("")},{validators:this.mustMatch("password","password_confirmation")}),step2:this.fb.group({groups:new i.NI,roles:new i.NI})}),this._userService.groups$.subscribe(o=>{this.groups=o,this.searchGroups=o}),this._userService.roles$.subscribe(o=>{this.roles=o,this.searchRoles=o}),this.data?.id&&(this._userService.getUserGroups(this.data.id).subscribe(o=>{this.horizontalStepperForm.get("step2").get("groups").setValue(o.data.map(t=>t.id))}),this._userService.getUserRoles(this.data.id).subscribe(o=>{this.horizontalStepperForm.get("step2").get("roles").setValue(o.data)}))}mustMatch(o,t){return s=>{this._changeDetectorRef.markForCheck();const l=s.controls[t];l.errors&&!l.errors.mustMatch||l.setErrors(s.controls[o].value!==l.value?{mustMatch:!0}:null)}}size(o){0===o.selectedIndex?this.dialogRef.updateSize("600px",this.data?.id?"650px":"720px"):1===o.selectedIndex?this.dialogRef.updateSize("600px","570px"):2===o.selectedIndex&&this.dialogRef.updateSize("600px","720px")}onNoClick(){this.dialogRef.close()}createTemplate(o){this._userService.createUser(o).subscribe({error:t=>{this.alert={type:"error",message:`${t.error.message}`},this._fuseAlertService.show("alertBoxUsers"),this.alertMessage.emit(this.alert),this.dialogRef.close(this.alert)},complete:()=>{this.alert={type:"success",message:"User adicionado com successo!"},this._userService.getUsers(this._userService.getUserDefaultParams).subscribe(),this._fuseAlertService.show("alertBoxUsers"),this.alertMessage.emit(this.alert),this.formUser.reset(),this.dialogRef.close(this.alert)}})}updateTemplate(o){this._userService.updateUser(o.id,o).subscribe({error:t=>{this.alert={type:"error",message:`${t.error.message}`},this._fuseAlertService.show("alertBoxUsers"),this.alertMessage.emit(this.alert),this.dialogRef.close(this.alert)},complete:()=>{this.alert={type:"success",message:"User actualizado com successo!"},this._userService.getUsers(this._userService.getUserDefaultParams).subscribe(),this._fuseAlertService.show("alertBoxUsers"),this.alertMessage.emit(this.alert),this.formUser.reset(),this.dialogRef.close(this.alert)}})}save(){""==this.data?.id||null==this.data?.id?this.createTemplate(this.getUserFormData()):this.updateTemplate(this.getUserFormData())}getUserFormData(){return{id:this.horizontalStepperForm.get("step1").get("id").value,username:this.horizontalStepperForm.get("step1").get("username").value,email:this.horizontalStepperForm.get("step1").get("email").value,password:this.horizontalStepperForm.get("step1").get("password").value,firstName:this.horizontalStepperForm.get("step1").get("firstName").value,lastName:this.horizontalStepperForm.get("step1").get("lastName").value,phone_number:this.horizontalStepperForm.get("step1").get("phone_number").value,avatar:this.horizontalStepperForm.get("step1").get("avatar").value,groups:this.horizontalStepperForm.get("step2").get("groups").value,roles:this.horizontalStepperForm.get("step2").get("roles").value}}handleFileSelect(o){const t=this.horizontalStepperForm.get("step1").get("fileBase64").value;if(this.mimeType=t.type,t){const s=new FileReader;s.onload=this.handleReaderLoaded.bind(this),s.readAsBinaryString(t)}}handleReaderLoaded(o){let t,s;const a=o.target.result;t=btoa(a),btoa(a),s="data:"+this.mimeType+";base64,"+btoa(a),this.horizontalStepperForm.get("step1").get("avatar").setValue(s),this._changeDetectorRef.markForCheck()}filterGroups(o){this.searchGroups=this.groups.filter(t=>t.name.toLowerCase().includes(o.target.value.toLowerCase()))}filterRoles(o){this.searchRoles=this.roles.filter(t=>t.name.toLowerCase().includes(o.target.value.toLowerCase()))}compareFunction(o,t){return o==t}compareFunctionObject(o,t){return o?.id==t?.id}getGroupText(o){if(null!=o)return this.groups.filter(t=>o.includes(t.id)||o.includes(t.name)).map(t=>t.name).toString()}getPapelText(o){if(null!=o)return o.map(t=>t.name).toString()}}y.\u0275fac=function(o){return new(o||y)(e.Y36(x.so),e.Y36(i.qu),e.Y36(x.WI),e.Y36(i.QS),e.Y36(e.sBO),e.Y36(q.f),e.Y36(w.jm))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-form-dialog"]],outputs:{alertMessage:"alertMessage"},decls:199,vars:52,consts:[[1,"relative","overflow-auto"],[1,"relative","flex","flex-col"],[1,"flex","items-center","justify-center","sm:justify-start","px-6","pt-3","space-x-3","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],[1,"gt-xs:max-w-80","gt-xs:pr-12"],[1,"text-xl","leading-6","font-medium"],[1,"text-secondary","mb-6"],[1,"absolute","top-0","right-0","pt-4","pr-4"],["mat-icon-button","",3,"matDialogClose"],["svgIcon","heroicons_outline:x",1,"text-secondary"],[1,"border-t"],[1,"px-4","pt-4","bg-card","shadow","rounded","overflow-hidden",3,"formGroup"],[3,"linear","selectionChange"],["horizontalStepper",""],[3,"formGroupName","stepControl"],["horizontalStepperStep1",""],["matStepLabel",""],[1,"flex","mt-2"],[1,"flex-auto"],["matInput","","maxlength","50","formControlName","username",3,"placeholder"],[1,"flex"],["matInput","","maxlength","50","formControlName","firstName",3,"placeholder"],["matInput","","maxlength","50","formControlName","lastName",3,"placeholder"],["matInput","","maxlength","50","formControlName","email",3,"placeholder"],["matInput","","maxlength","50","formControlName","phone_number",3,"placeholder"],["class","flex",4,"ngIf"],["formControlName","fileBase64","accept","image/png, image/jpeg",3,"color","placeholder","change"],["arquivo",""],["ngxMatFileInputIcon","",1,"ml-170",3,"svgIcon"],[3,"formControlName","color"],[1,"my-3","border-t"],[1,"flex","justify-end"],["mat-flat-button","","type","button","matStepperNext","",1,"px-8",3,"color"],["horizontalStepperStep2",""],[3,"expanded"],["formControlName","groups","multiple","",3,"compareWith","placeholder"],["placeholderLabel","Pesquisar o grupos...",3,"input"],["svgIcon","heroicons_outline:x"],["ngxMatSelectNoEntriesFound",""],[4,"ngIf"],["formControlName","roles","multiple","",3,"compareWith","placeholder"],["placeholderLabel","Pesquisar os papeis...",3,"input"],[1,"flex","justify-start"],["mat-flat-button","","type","button","matStepperPrevious","",1,"px-8","mr-2",3,"color"],[1,"mt-4"],[1,"font-medium"],[1,"flex","items-center"],[1,"icon-size-5","text-hint",3,"svgIcon"],[1,"ml-1.5","text-md","text-secondary"],[1,"flex-col","w-full"],[1,"font-medium","mt-3"],[1,"text-md","text-secondary"],[1,"flex","justify-between","mt-5"],["mat-flat-button","","type","button",1,"px-8",3,"color","click"],["matInput","","maxlength","50","formControlName","password","type","password",3,"placeholder"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],["matInput","","maxlength","50","type","password","formControlName","password_confirmation",3,"placeholder"],["passwordConfirmField",""],[1,"icon-size-5",3,"svgIcon"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,t){if(1&o){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.ynx(2),e.TgZ(3,"div",2)(4,"div",3)(5,"p",4),e._uU(6," Novo Usu\xe1rio "),e.qZA(),e.TgZ(7,"p",5),e._uU(8," Formul\xe1rio para adi\xe7\xe3o de novos usu\xe1rios "),e.qZA()()(),e.BQk(),e.ynx(9),e.TgZ(10,"div",6)(11,"button",7),e._UZ(12,"mat-icon",8),e.qZA()(),e.BQk(),e._UZ(13,"div",9),e.TgZ(14,"form",10)(15,"mat-horizontal-stepper",11,12),e.NdJ("selectionChange",function(l){return t.size(l)}),e.TgZ(17,"mat-step",13,14),e.YNc(19,$,1,0,"ng-template",15),e.TgZ(20,"div",16)(21,"mat-form-field",17)(22,"mat-label"),e._uU(23,"Nome do Usu\xe1rio"),e.qZA(),e._UZ(24,"input",18),e.qZA()(),e.TgZ(25,"div",19)(26,"mat-form-field",17)(27,"mat-label"),e._uU(28,"Primeiro Nome"),e.qZA(),e._UZ(29,"input",20),e.qZA(),e._uU(30," \xa0 "),e.TgZ(31,"mat-form-field",17)(32,"mat-label"),e._uU(33,"\xdaltimo Nome"),e.qZA(),e._UZ(34,"input",21),e.qZA()(),e.TgZ(35,"div",19)(36,"mat-form-field",17)(37,"mat-label"),e._uU(38,"Endere\xe7o de E-mail"),e.qZA(),e._UZ(39,"input",22),e.qZA(),e._uU(40," \xa0 "),e.TgZ(41,"mat-form-field",17)(42,"mat-label"),e._uU(43,"Telefone"),e.qZA(),e._UZ(44,"input",23),e.qZA()(),e.YNc(45,X,22,6,"div",24),e.TgZ(46,"div",19)(47,"mat-form-field",17)(48,"ngx-mat-file-input",25,26),e.NdJ("change",function(){e.CHM(s);const l=e.MAs(49);return e.KtG(t.handleFileSelect(l))}),e._UZ(50,"mat-icon",27),e.qZA()(),e._uU(51," \xa0\xa0\xa0\xa0\xa0 "),e.TgZ(52,"div",17)(53,"mat-checkbox",28),e._uU(54," Activar "),e.qZA()()(),e._UZ(55,"div",29),e.TgZ(56,"div",30)(57,"button",31),e._uU(58," Avan\xe7ar "),e.qZA()()(),e.TgZ(59,"mat-step",13,32),e.YNc(61,ee,1,0,"ng-template",15),e.TgZ(62,"mat-accordion")(63,"mat-expansion-panel",33)(64,"mat-expansion-panel-header")(65,"mat-panel-title"),e._uU(66," Permiss\xf5es "),e.qZA()(),e.ynx(67),e.TgZ(68,"div",19)(69,"mat-form-field",17)(70,"mat-label"),e._uU(71,"Grupos"),e.qZA(),e.TgZ(72,"mat-select",34)(73,"mat-option")(74,"ngx-mat-select-search",35),e.NdJ("input",function(l){return t.filterGroups(l)}),e._UZ(75,"mat-icon",36),e.TgZ(76,"span",37),e._uU(77,"Op\xe7\xe3o n\xe3o encontrada"),e.qZA()()(),e.YNc(78,oe,2,1,"ng-container",38),e.YNc(79,se,2,1,"ng-container",38),e.qZA()()(),e.TgZ(80,"div",19)(81,"mat-form-field",17)(82,"mat-label"),e._uU(83,"Papeis"),e.qZA(),e.TgZ(84,"mat-select",39)(85,"mat-option")(86,"ngx-mat-select-search",40),e.NdJ("input",function(l){return t.filterRoles(l)}),e._UZ(87,"mat-icon",36),e.TgZ(88,"span",37),e._uU(89,"Op\xe7\xe3o n\xe3o encontrada"),e.qZA()()(),e.YNc(90,re,2,1,"ng-container",38),e.YNc(91,le,2,1,"ng-container",38),e.qZA()()(),e.BQk(),e.qZA(),e.TgZ(92,"mat-expansion-panel")(93,"mat-expansion-panel-header")(94,"mat-panel-title"),e._uU(95," Configura\xe7\xe3o Circula\xe7\xe3o "),e.qZA()(),e.ynx(96),e.TgZ(97,"div",19)(98,"mat-form-field",17)(99,"mat-label"),e._uU(100,"Substituto Interino"),e.qZA(),e.TgZ(101,"mat-select",34)(102,"mat-option")(103,"ngx-mat-select-search",35),e.NdJ("input",function(l){return t.filterGroups(l)}),e._UZ(104,"mat-icon",36),e.TgZ(105,"span",37),e._uU(106,"Op\xe7\xe3o n\xe3o encontrada"),e.qZA()()(),e.YNc(107,pe,2,1,"ng-container",38),e.YNc(108,ue,2,1,"ng-container",38),e.qZA()()(),e.BQk(),e.qZA()(),e._UZ(109,"div",29),e.TgZ(110,"div",41)(111,"button",42),e._uU(112," Voltar "),e.qZA(),e.TgZ(113,"button",31),e._uU(114," Avan\xe7ar "),e.qZA()()(),e.TgZ(115,"mat-step"),e.YNc(116,de,1,0,"ng-template",15),e.TgZ(117,"div",43)(118,"mat-accordion")(119,"mat-expansion-panel",33)(120,"mat-expansion-panel-header")(121,"mat-panel-title"),e._uU(122," Dados da conta "),e.qZA()(),e.ynx(123),e.TgZ(124,"div",44),e._uU(125,"Nome do Usu\xe1rio"),e.qZA(),e.ynx(126),e.TgZ(127,"div",45),e._UZ(128,"mat-icon",46),e.TgZ(129,"div",47),e._uU(130),e.qZA()(),e.BQk()(),e.ynx(131),e.TgZ(132,"div",19)(133,"div",48)(134,"div",49),e._uU(135,"Primeiro Nome"),e.qZA(),e.ynx(136),e.TgZ(137,"div",45),e._UZ(138,"mat-icon",46),e.TgZ(139,"div",47),e._uU(140),e.qZA()(),e.BQk(),e.qZA(),e.TgZ(141,"div",48)(142,"div",49),e._uU(143,"Ultimo Nome"),e.qZA(),e.ynx(144),e.TgZ(145,"div",45),e._UZ(146,"mat-icon",46),e.TgZ(147,"div",47),e._uU(148),e.qZA()(),e.BQk(),e.qZA()(),e.BQk(),e.ynx(149),e.TgZ(150,"div",19)(151,"div",48)(152,"div",49),e._uU(153,"Endere\xe7o de E-mail"),e.qZA(),e.ynx(154),e.TgZ(155,"div",45),e._UZ(156,"mat-icon",46),e.TgZ(157,"div",47),e._uU(158),e.qZA()(),e.BQk(),e.qZA(),e.TgZ(159,"div",48)(160,"div",49),e._uU(161,"Telefone"),e.qZA(),e.ynx(162),e.TgZ(163,"div",45),e._UZ(164,"mat-icon",46),e.TgZ(165,"div",47),e._uU(166),e.qZA()(),e.BQk(),e.qZA()(),e.BQk(),e.ynx(167),e.TgZ(168,"div",49),e._uU(169,"Estado"),e.qZA(),e.ynx(170),e.TgZ(171,"div",45)(172,"div",50),e._uU(173),e.qZA()(),e.BQk()(),e.qZA(),e.TgZ(174,"mat-expansion-panel")(175,"mat-expansion-panel-header")(176,"mat-panel-title"),e._uU(177," Permiss\xf5es "),e.qZA()(),e.ynx(178),e.TgZ(179,"div",44),e._uU(180,"Grupos"),e.qZA(),e.ynx(181),e.TgZ(182,"div",45),e._UZ(183,"mat-icon",46),e.TgZ(184,"div",47),e._uU(185),e.qZA()(),e.BQk()(),e.ynx(186),e.TgZ(187,"div",49),e._uU(188,"Papeis"),e.qZA(),e.ynx(189),e.TgZ(190,"div",45),e._UZ(191,"mat-icon",46),e.TgZ(192,"div",47),e._uU(193),e.qZA()(),e.BQk()(),e.qZA()()(),e.TgZ(194,"div",51)(195,"button",42),e._uU(196," Voltar "),e.qZA(),e.TgZ(197,"button",52),e.NdJ("click",function(){return t.save()}),e._uU(198," Salvar "),e.qZA()()()()()()()}2&o&&(e.xp6(11),e.Q6J("matDialogClose",void 0),e.xp6(3),e.Q6J("formGroup",t.horizontalStepperForm),e.xp6(1),e.Q6J("linear",!0),e.xp6(2),e.Q6J("formGroupName","step1")("stepControl",t.horizontalStepperForm.get("step1")),e.xp6(7),e.Q6J("placeholder","Informe um nome do utilizador"),e.xp6(5),e.Q6J("placeholder","Informe o primeiro nome"),e.xp6(5),e.Q6J("placeholder","Informe o \xfaltimo nome"),e.xp6(5),e.Q6J("placeholder","Informe o e-mail do utilizador"),e.xp6(5),e.Q6J("placeholder","Informe o e-mail do utilizador"),e.xp6(1),e.Q6J("ngIf",!(null!=t.data&&t.data.id)),e.xp6(3),e.Q6J("color","accent")("placeholder","Imagem de Perfil"),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:upload"),e.xp6(3),e.Q6J("formControlName","enabled")("color","primary"),e.xp6(4),e.Q6J("color","primary"),e.xp6(2),e.Q6J("formGroupName","step2")("stepControl",t.horizontalStepperForm.get("step2")),e.xp6(4),e.Q6J("expanded",!0),e.xp6(9),e.Q6J("compareWith",t.compareFunction)("placeholder","Papel"),e.xp6(6),e.Q6J("ngIf",!(null!=t.data&&t.data.id)),e.xp6(1),e.Q6J("ngIf",null==t.data?null:t.data.id),e.xp6(5),e.Q6J("compareWith",t.compareFunctionObject)("placeholder","Papel"),e.xp6(6),e.Q6J("ngIf",!(null!=t.data&&t.data.id)),e.xp6(1),e.Q6J("ngIf",null==t.data?null:t.data.id),e.xp6(10),e.Q6J("compareWith",t.compareFunction)("placeholder","Papel"),e.xp6(6),e.Q6J("ngIf",!(null!=t.data&&t.data.id)),e.xp6(1),e.Q6J("ngIf",null==t.data?null:t.data.id),e.xp6(3),e.Q6J("color","accent"),e.xp6(2),e.Q6J("color","primary"),e.xp6(6),e.Q6J("expanded",!0),e.xp6(9),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(2),e.Oqu(t.horizontalStepperForm.get("step1").get("username").value),e.xp6(8),e.Q6J("svgIcon","heroicons_solid:mail"),e.xp6(2),e.hij("",t.horizontalStepperForm.get("step1").get("firstName").value," "),e.xp6(6),e.Q6J("svgIcon","heroicons_solid:mail"),e.xp6(2),e.hij("",t.horizontalStepperForm.get("step1").get("lastName").value," "),e.xp6(8),e.Q6J("svgIcon","heroicons_solid:mail"),e.xp6(2),e.Oqu(t.horizontalStepperForm.get("step1").get("email").value),e.xp6(6),e.Q6J("svgIcon","heroicons_solid:mail"),e.xp6(2),e.hij("",t.horizontalStepperForm.get("step1").get("phone_number").value," "),e.xp6(7),e.hij(" ",t.horizontalStepperForm.get("step1").get("enabled").value?"Activo":"Desactivado"," "),e.xp6(10),e.Q6J("svgIcon","heroicons_solid:menu-alt-1"),e.xp6(2),e.hij(" ",t.getGroupText(t.horizontalStepperForm.get("step2").get("groups").value)," "),e.xp6(6),e.Q6J("svgIcon","heroicons_solid:menu-alt-1"),e.xp6(2),e.hij(" ",t.getPapelText(t.horizontalStepperForm.get("step2").get("roles").value)," "),e.xp6(2),e.Q6J("color","accent"),e.xp6(2),e.Q6J("color","primary"))},dependencies:[d.lW,d.RK,u.oG,c.KE,c.hX,c.TO,c.R9,p.Hw,h.Nt,J.gD,Q.ey,Z.sg,Z.O5,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.sg,i.u,i.x0,x.ZT,U.C0,U.VY,U.Vq,U.Ic,U.fd,v.pp,v.ib,v.yz,v.yK,D.v6,D.qb,C.nu,C.C0],styles:["@media (min-width: 960px){.fuse-confirmation-dialog-panel[_ngcontent-%COMP%]{width:32rem}}.fuse-confirmation-dialog-panel[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0!important}.fuse-confirmation-dialog-panel[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]   .mat-success[_ngcontent-%COMP%]{background-color:green;color:#fff}.fuse-confirmation-dialog-panel[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.mat-dialog-container[_ngcontent-%COMP%]{border-radius:5px!important}.btn-file[_ngcontent-%COMP%]{width:48%}"]});var z=r(529),I=r(9602);function ge(n,o){if(1&n&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t.id),e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.username," ")}}function fe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",40)(1,"td",38),e._uU(2),e.qZA(),e.TgZ(3,"td",38),e._uU(4),e.qZA(),e.TgZ(5,"td",38),e._uU(6),e.qZA(),e.TgZ(7,"td",41)(8,"button",42),e.NdJ("click",function(){const l=e.CHM(t).$implicit,g=e.oxw(2);return e.KtG(g.deleteUtilizadorInterino(l.id))}),e._UZ(9,"mat-icon",43),e.qZA()()()}if(2&n){const t=o.$implicit,s=o.index;e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.utilizador_interino.name),e.xp6(2),e.AsE("",t.periodoInicio," \xe0 ",t.periodoFim,""),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:trash")}}function he(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"table",36)(2,"tr",37)(3,"td",38),e._uU(4,"Nr. Ord"),e.qZA(),e.TgZ(5,"td",38),e._uU(6,"Utilizador"),e.qZA(),e.TgZ(7,"td",38),e._uU(8,"Per\xedodo"),e.qZA(),e.TgZ(9,"td",38),e._uU(10,"Ac\xe7\xe3o"),e.qZA()(),e.YNc(11,fe,10,5,"tr",39),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.usersInterinos)}}function _e(n,o){1&n&&(e.TgZ(0,"div",44),e._UZ(1,"mat-icon",45),e.TgZ(2,"div",46),e._uU(3," N\xe3o h\xe1 Documentos Scaneados! "),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:clipboard-list"))}class F{constructor(o,t,s,a,l,g,E){this.dialogRef=o,this.fb=t,this.data=s,this._formBuilder=a,this._changeDetectorRef=l,this._fuseAlertService=g,this._userService=E,this.alertMessage=new e.vpe,this.anexoPushEmitter=new e.vpe,this.alert={type:"success",message:""},this.simplesSearchForm=new i.cw({utilizadorInterinoId:new i.NI,periodoInicio:new i.NI,periodoFim:new i.NI}),this.getUsers(),this.getUsersInterinos()}ngOnInit(){this.simplesSearchForm=this.fb.group({utilizadorId:new i.NI(this.data?.id),utilizadorInterinoId:new i.NI([i.kI.required]),periodoInicio:new i.NI([i.kI.required]),periodoFim:new i.NI([i.kI.required])})}getUsers(){this._userService.users$.subscribe(o=>{this.users=o,this.searchUsers=o})}filterUsers(o){this.searchUsers=this.users.filter(t=>t.username.toLowerCase().includes(o.target.value.toLowerCase()))}onNoClick(){this.dialogRef.close()}saveUtilizadorInterino(){console.log(this.simplesSearchForm.value),this._userService.addUserInterino(this.simplesSearchForm.value).subscribe({error:o=>{this.alert={type:"error",message:`${o.error.message}`},this._fuseAlertService.show("alertBoxUsers"),this.alertMessage.emit(this.alert)},complete:()=>{this.simplesSearchForm.reset(),this.simplesSearchForm.controls.utilizadorId.setValue(this.data?.id),this.getUsersInterinos()}})}deleteUtilizadorInterino(o){this._userService.deleteUserInterino(o).subscribe({error:t=>{this.alert={type:"error",message:`${t.error.message}`},this._fuseAlertService.show("alertBoxUsers"),this.alertMessage.emit(this.alert)},complete:()=>{this.getUsersInterinos()}})}getUsersInterinos(){let o=new z.LE;o=o.append("utilizadorId",this.data?.id),o=o.append("sort","id"),o=o.append("order","desc"),this._userService.getUsersInterino(o).subscribe(t=>{this.usersInterinos=t.data,this._changeDetectorRef.markForCheck()})}save(){}}F.\u0275fac=function(o){return new(o||F)(e.Y36(x.so),e.Y36(i.qu),e.Y36(x.WI),e.Y36(i.QS),e.Y36(e.sBO),e.Y36(w.jm),e.Y36(q.f))},F.\u0275cmp=e.Xpm({type:F,selectors:[["substituto-interino-dialog"]],viewQuery:function(o,t){if(1&o&&(e.Gf(_.NW,5),e.Gf(T.YE,5)),2&o){let s;e.iGM(s=e.CRH())&&(t._paginator=s.first),e.iGM(s=e.CRH())&&(t._sort=s.first)}},outputs:{alertMessage:"alertMessage",anexoPushEmitter:"anexoPushEmitter"},decls:58,vars:13,consts:[[1,"relative","overflow-auto","h-full"],[1,"relative","flex","flex-col","h-full"],[1,"flex","items-center","justify-center","sm:justify-start","px-6","pt-3","space-x-3","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],[1,"gt-xs:max-w-80","gt-xs:pr-12"],[1,"text-xl","leading-6","font-medium"],[1,"text-secondary","mb-6"],[1,"absolute","top-0","right-0","pt-4","pr-4"],["mat-icon-button","",3,"matDialogClose"],["svgIcon","heroicons_outline:x",1,"text-secondary"],[1,"border-t"],[1,"px-6","mt-6"],[3,"expanded"],[1,"bg-card","rounded","overflow-hidden",3,"formGroup"],[1,"flex","gap-2","justify-between"],[1,"w-[40%]"],[1,"flex","fuse-mat-dense"],["formControlName","utilizadorInterinoId"],["singleSelect",""],["placeholderLabel","Pesquisar o estado...",3,"input"],["svgIcon","heroicons_outline:x"],["ngxMatSelectNoEntriesFound",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex","flex-auto","mb-2"],[1,"fuse-mat-dense","fuse-mat-no-subscript","w-full"],[3,"formGroup","rangePicker"],["matStartDate","","placeholder","Data inicio","formControlName","periodoInicio"],["matEndDate","","placeholder","Data fim","formControlName","periodoFim"],["matSuffix","",3,"for"],["campaignOnePicker",""],["mat-flat-button","","type","button",1,"px-8","py4","mt-6",3,"disabled","color","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-hidden","sm:overflow-y-auto"],[4,"ngIf","ngIfElse"],["noDocumentos",""],[3,"value"],["matSort","",1,"w-full"],[1,"sticky","top-0","h-10","shadow","text-sm","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[1,"px-1"],["class","h-10 border-b text-secondary text-sm",4,"ngFor","ngForOf"],[1,"h-10","border-b","text-secondary","text-sm"],[1,"flex","justify-left","items-center","pt-2"],[3,"click"],[1,"scale-[.75]","rounded","pt-1",3,"svgIcon"],[1,"flex","flex-auto","flex-col","items-center","mt-30"],[1,"icon-size-24",3,"svgIcon"],[1,"text-2xl","font-semibold","tracking-tight","text-secondary"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1),e.ynx(2),e.TgZ(3,"div",2)(4,"div",3)(5,"p",4),e._uU(6,"Configura\xe7\xf5es"),e.qZA(),e.TgZ(7,"p",5),e._uU(8," Configura\xe7\xf5es de acessos e outros dados "),e.qZA()()(),e.BQk(),e.ynx(9),e.TgZ(10,"div",6)(11,"button",7),e._UZ(12,"mat-icon",8),e.qZA()(),e.BQk(),e._UZ(13,"div",9),e.TgZ(14,"div",10)(15,"mat-accordion")(16,"mat-expansion-panel",11)(17,"mat-expansion-panel-header")(18,"mat-panel-title"),e._uU(19," Substituto Interino "),e.qZA()(),e.ynx(20),e.TgZ(21,"form",12)(22,"div",13)(23,"div",14)(24,"mat-form-field",15)(25,"mat-label"),e._uU(26,"Utilizadores"),e.qZA(),e.TgZ(27,"mat-select",16,17)(29,"mat-option")(30,"ngx-mat-select-search",18),e.NdJ("input",function(a){return t.filterUsers(a)}),e._UZ(31,"mat-icon",19),e.TgZ(32,"span",20),e._uU(33,"Op\xe7\xe3o n\xe3o encontrada"),e.qZA()()(),e.YNc(34,ge,2,3,"mat-option",21),e.qZA()()(),e.TgZ(35,"div",22)(36,"mat-form-field",23)(37,"mat-label"),e._uU(38,"Peri\xf3do"),e.qZA(),e.TgZ(39,"mat-date-range-input",24),e._UZ(40,"input",25)(41,"input",26),e.qZA(),e._UZ(42,"mat-datepicker-toggle",27)(43,"mat-date-range-picker",null,28),e.qZA()(),e.TgZ(45,"button",29),e.NdJ("click",function(){return t.saveUtilizadorInterino()}),e._UZ(46,"mat-icon",30),e.TgZ(47,"span",31),e._uU(48,"ADICIONAR"),e.qZA()()(),e.TgZ(49,"div",32),e.YNc(50,he,12,1,"ng-container",33),e.YNc(51,_e,4,1,"ng-template",null,34,e.W1O),e.qZA()(),e.BQk(),e.qZA(),e.TgZ(53,"mat-expansion-panel",11)(54,"mat-expansion-panel-header")(55,"mat-panel-title"),e._uU(56," Outras Configura\xe7\xf5es "),e.qZA()(),e.GkF(57),e.qZA()()()()()),2&o){const s=e.MAs(44),a=e.MAs(52);e.xp6(11),e.Q6J("matDialogClose",void 0),e.xp6(5),e.Q6J("expanded",!0),e.xp6(5),e.Q6J("formGroup",t.simplesSearchForm),e.xp6(13),e.Q6J("ngForOf",t.searchUsers),e.xp6(5),e.Q6J("formGroup",t.simplesSearchForm)("rangePicker",s),e.xp6(3),e.Q6J("for",s),e.xp6(3),e.Q6J("disabled",!t.simplesSearchForm.valid)("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(4),e.Q6J("ngIf",t.usersInterinos.length>0)("ngIfElse",a),e.xp6(3),e.Q6J("expanded",!1)}},dependencies:[d.lW,d.RK,c.KE,c.hX,c.R9,p.Hw,T.YE,J.gD,Q.ey,Z.sg,Z.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,x.ZT,I.nW,I.wx,I.zY,I.By,I._g,v.pp,v.ib,v.yz,v.yK,C.nu,C.C0],styles:["@media (min-width: 960px){.fuse-confirmation-dialog-panel[_ngcontent-%COMP%]{width:32rem}}.fuse-confirmation-dialog-panel[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0!important}.fuse-confirmation-dialog-panel[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]   .mat-success[_ngcontent-%COMP%]{background-color:green;color:#fff}.fuse-confirmation-dialog-panel[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.mat-dialog-container[_ngcontent-%COMP%]{border-radius:5px!important}.btn-file[_ngcontent-%COMP%]{width:48%}"]});var xe=r(7401),ve=r(8214);function Ze(n,o){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"mat-progress-bar",24),e.qZA()),2&n&&(e.xp6(1),e.Q6J("mode","indeterminate"))}function Ue(n,o){if(1&n&&(e.TgZ(0,"fuse-alert",25),e._UZ(1,"div",26),e.qZA()),2&n){const t=e.oxw();e.Q6J("appearance","soft")("dismissible",!0)("dismissed",!0)("name","alertBoxUsers")("type",null==t.alert?null:t.alert.type)("@shake","error"===(null==t.alert?null:t.alert.type)),e.xp6(1),e.Q6J("innerHTML",t.alert.message,e.oJD)}}function be(n,o){1&n&&(e.ynx(0),e._UZ(1,"mat-icon",44),e.BQk()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:check"))}function Te(n,o){1&n&&(e.ynx(0),e._UZ(1,"mat-icon",45),e.BQk()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:x"))}function Ie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",37)(1,"td",30),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.YNc(14,be,2,1,"ng-container",21),e.YNc(15,Te,2,1,"ng-container",21),e.qZA(),e.TgZ(16,"td")(17,"button",38),e.NdJ("click",function(){const l=e.CHM(t).$implicit,g=e.oxw(3);return e.KtG(g.substitutoInterinoOpenDialog(l))}),e._UZ(18,"mat-icon",39),e.qZA(),e.TgZ(19,"button",40),e.NdJ("click",function(){const l=e.CHM(t).$implicit,g=e.oxw(3);return e.KtG(g.openDialog(l))}),e._UZ(20,"mat-icon",41),e.qZA(),e.TgZ(21,"button",42),e.NdJ("click",function(){const l=e.CHM(t).$implicit,g=e.oxw(3);return e.KtG(g.deleteSelectedUser(l.id))}),e._UZ(22,"mat-icon",43),e.qZA()()()}if(2&n){const t=o.$implicit,s=o.index;e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Oqu(t.firstName),e.xp6(2),e.Oqu(t.lastName),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(null==t||null==t.attributes?null:t.attributes.phone_number),e.xp6(2),e.Q6J("ngIf",t.enabled),e.xp6(1),e.Q6J("ngIf",!t.enabled),e.xp6(6),e.Q6J("color","warn")}}const Ae=function(n){return{"pointer-events-none":n}},Ce=function(){return[5,10,25,100]};function ye(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"table",28)(2,"tr",29)(3,"td",30),e._uU(4,"Nr. Ord"),e.qZA(),e.TgZ(5,"td",31),e._uU(6,"User"),e.qZA(),e.TgZ(7,"td",32),e._uU(8,"First Name"),e.qZA(),e.TgZ(9,"td",33),e._uU(10,"Last Name"),e.qZA(),e.TgZ(11,"td",34),e._uU(12,"E-mail"),e.qZA(),e.TgZ(13,"td"),e._uU(14,"Phone"),e.qZA(),e.TgZ(15,"td"),e._uU(16,"Activo"),e.qZA(),e.TgZ(17,"td"),e._uU(18,"Ac\xe7\xe3o"),e.qZA()(),e.YNc(19,Ie,23,9,"tr",35),e.qZA(),e._UZ(20,"mat-paginator",36),e.BQk()),2&n){const t=e.oxw().ngIf,s=e.oxw();e.xp6(19),e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("ngClass",e.VKq(7,Ae,s.isLoading))("length",s.pagination.length)("pageIndex",s.pagination.page)("pageSize",s.pagination.size)("pageSizeOptions",e.DdM(9,Ce))("showFirstLastButtons",!0)}}function Fe(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ye,21,10,"ng-container",27),e.BQk()),2&n){const t=o.ngIf;e.oxw();const s=e.MAs(30);e.xp6(1),e.Q6J("ngIf",t.length>0)("ngIfElse",s)}}function Se(n,o){1&n&&(e.TgZ(0,"div",46),e._uU(1,"N\xe3o h\xe1 usu\xe1rios cadastrados!"),e.qZA())}class S{constructor(o,t,s,a,l,g){this._changeDetectorRef=o,this._fuseConfirmationService=t,this._formBuilder=s,this._UsersService=a,this.dialog=l,this._fuseAlertService=g,this.flashMessage=null,this.isLoading=!1,this.searchInputControl=new i.p4,this._unsubscribeAll=new B.x,this.showAlert=!1,this.alert={type:"success",message:""}}ngOnInit(){this._UsersService.pagination$.pipe((0,M.R)(this._unsubscribeAll)).subscribe(o=>{this.pagination=o,this._changeDetectorRef.markForCheck()}),this.users$=this._UsersService.users$}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"id",start:"asc",disableClear:!0}),this._sort.sortChange.pipe((0,M.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,L.T)(this._sort.sortChange,this._paginator.page).pipe((0,G.w)(()=>{let o=new z.LE;return o=o.append("page",this._paginator.pageIndex),o=o.append("size",this._paginator.pageSize),o=o.append("sort",this._sort.active),o=o.append("order",this._sort.direction),this._UsersService.getUsers(o)})).subscribe()),this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}deleteSelectedUser(o){this._fuseConfirmationService.open({title:"Remover Utilizador",message:"Tem certeza que queres remover este utilizador? Essa ac\xe7\xe3o n\xe3o pode ser desfeita.",actions:{confirm:{label:"Remover"},cancel:{label:"Cancelar"}}}).afterClosed().subscribe(s=>{"confirmed"===s&&this._UsersService.deleteUser(o).subscribe({error:a=>{this.alert={type:"error",message:`${a.error.message}`},this._fuseAlertService.show("alertBoxUsers")},complete:()=>{this.alert={type:"success",message:"Utilizador Removido com successo!"},this._UsersService.getUsers(this._UsersService.getUserDefaultParams).subscribe(),this._fuseAlertService.show("alertBoxUsers")}})})}trackByFn(o,t){return t.id||o}openDialog(o){this.dialog.open(y,{data:o}).updateSize("600px",o?.id?"650px":"720px").afterClosed().subscribe(s=>{console.log("The dialog was closed"),console.log(s),null!=s&&(this.alert=s,this.showAlert=!0,setTimeout(()=>{this._fuseAlertService.dismiss("alertBoxUsers"),this._changeDetectorRef.markForCheck()},15e3))})}applyFilter(o){const t=o;if(null===t||null==t)this._UsersService.getUsers(this._UsersService.getUserDefaultParams).subscribe();else{let s=new z.LE;s=s.append("search",t),s=s.append("page",this._paginator.pageIndex),s=s.append("size",this._paginator.pageSize),s=s.append("sort",this._sort.active),s=s.append("order",this._sort.direction),this._UsersService.getUsers(s).subscribe(),this.searchInputControl.reset()}}substitutoInterinoOpenDialog(o){this.dialog.open(F,{data:o}).updateSize("800px","600px").afterClosed().subscribe(s=>{})}}S.\u0275fac=function(o){return new(o||S)(e.Y36(e.sBO),e.Y36(xe.R),e.Y36(i.QS),e.Y36(q.f),e.Y36(x.uw),e.Y36(w.jm))},S.\u0275cmp=e.Xpm({type:S,selectors:[["users-list"]],viewQuery:function(o,t){if(1&o&&(e.Gf(_.NW,5),e.Gf(T.YE,5)),2&o){let s;e.iGM(s=e.CRH())&&(t._paginator=s.first),e.iGM(s=e.CRH())&&(t._sort=s.first)}},decls:31,vars:14,consts:[[1,"sm:absolute","sm:inset-0","flex","flex-col","flex-auto","min-w-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-secondary"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-flat-button","",2,"margin-right","-16px",3,"color","click"],[3,"svgIcon"],["mat-flat-button","",1,"ml-4",3,"color","click"],[1,"ml-2","mr-1"],[3,"appearance","dismissible","dismissed","name","type",4,"ngIf"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-hidden","sm:overflow-y-auto"],[4,"ngIf"],["noUsers",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[3,"appearance","dismissible","dismissed","name","type"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["matSort",""],[1,"sticky","top-0","h-12","shadow","text-sm","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[1,"padding-l-40"],["mat-sort-header","username"],["mat-sort-header","firstName"],["mat-sort-header","lastName"],["mat-sort-header","email"],["class","h-10 text-sm border-b cursor-p",4,"ngFor","ngForOf"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"h-10","text-sm","border-b","cursor-p"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6",3,"click"],["svgIcon","heroicons_solid:cog",1,"icon-size-4"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6","ml-1",3,"click"],["svgIcon","heroicons_solid:pencil",1,"icon-size-4"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6","ml-1",3,"color","click"],["svgIcon","heroicons_solid:trash",1,"icon-size-4"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-gray-400","icon-size-5",3,"svgIcon"],[1,"p-8","sm:p-16","border-t","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Ze,2,1,"div",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div")(6,"a",5),e._uU(7,"Configura\xe7\xf5es"),e.qZA()(),e.TgZ(8,"div",6),e._UZ(9,"mat-icon",7),e.TgZ(10,"span",8),e._uU(11,"Utilizadores"),e.qZA()()(),e.TgZ(12,"div",9)(13,"h2",10),e._uU(14," Utilizadores "),e.qZA()()(),e.TgZ(15,"div",11)(16,"mat-form-field",12),e._UZ(17,"input",13),e.TgZ(18,"button",14),e.NdJ("click",function(){return t.applyFilter(t.searchInputControl.value)}),e._UZ(19,"mat-icon",15),e.qZA()(),e.TgZ(20,"button",16),e.NdJ("click",function(){return t.openDialog(null)}),e._UZ(21,"mat-icon",15),e.TgZ(22,"span",17),e._uU(23,"Novo utilizador"),e.qZA()()()(),e.YNc(24,Ue,2,7,"fuse-alert",18),e.TgZ(25,"div",19)(26,"div",20),e.YNc(27,Fe,2,2,"ng-container",21),e.ALo(28,"async"),e.YNc(29,Se,2,0,"ng-template",null,22,e.W1O),e.qZA()()()),2&o&&(e.xp6(2),e.Q6J("ngIf",t.isLoading),e.xp6(7),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(7),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("formControl",t.searchInputControl)("autocomplete","off")("placeholder","Pesquisar utilizadores"),e.xp6(1),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:search"),e.xp6(1),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(3),e.Q6J("ngIf",t.showAlert),e.xp6(3),e.Q6J("ngIf",e.lcZ(28,12,t.users$)))},dependencies:[d.lW,c.KE,p.Hw,h.Nt,_.NW,N.pW,T.YE,T.nU,Z.mk,Z.sg,Z.O5,i.Fj,i.JJ,i.oH,ve.W,Z.Ov],styles:[".cursor-p:hover{cursor:pointer!important;background-color:rgb(248 250 252/var(--tw-bg-opacity))}.padding-l-40{padding-left:40px!important}\n"],encapsulation:2,data:{animation:j.L},changeDetection:0});var k=r(2570);const Ne=[{pathMatch:"full",path:"",component:S,resolve:{users:k.oD,groups:k.zH,roles:k.RW}}];var Qe=r(1948),Je=r(3848),we=r(7155),qe=r(9567),De=r(79),ze=r(8277);class A{}A.\u0275fac=function(o){return new(o||A)},A.\u0275mod=e.oAB({type:A}),A.\u0275inj=e.cJS({providers:[{provide:Q.Ad,useValue:"pt-PT"}],imports:[f.Bz.forChild(Ne),d.ot,u.p9,c.lN,p.Ps,h.c,m.Tx,_.TU,N.Cv,Q.si,T.JX,J.LD,P.rP,Y.AV,R.m,x.Is,Qe.Fk,J.LD,U.T5,I.FA,U.T5,v.To,Je.Nh,we.p0,qe.o,De.V,D.S1,w.fC,C.Co,x.Is,ze.Yd]})},2570:(O,b,r)=>{r.d(b,{RW:()=>p,oD:()=>u,zH:()=>c});var f=r(4650),d=r(4693);class u{constructor(m){this._UsersService=m}resolve(m,_){return this._UsersService.getUsers(this._UsersService.getUserDefaultParams)}}u.\u0275fac=function(m){return new(m||u)(f.LFG(d.f))},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"});class c{constructor(m){this._UsersService=m}resolve(m,_){return this._UsersService.getGroups()}}c.\u0275fac=function(m){return new(m||c)(f.LFG(d.f))},c.\u0275prov=f.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"});class p{constructor(m){this._UsersService=m}resolve(m,_){return this._UsersService.getRoles()}}p.\u0275fac=function(m){return new(m||p)(f.LFG(d.f))},p.\u0275prov=f.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}}]);