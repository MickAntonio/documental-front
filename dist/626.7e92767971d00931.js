"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[626],{7626:(Qe,S,s)=>{s.r(S),s.d(S,{SettingsModule:()=>p});var J=s(9299),g=s(4859),f=s(9549),h=s(7392),k=s(284),N=s(1948),b=s(4385),I=s(455),T=s(3267),D=s(7775),F=s(4466),O=s(7579),w=s(2722),e=s(4650),Y=s(4880),l=s(6895),M=s(1066),L=s(5861),c=s(4006);class q{}class E{constructor(t,o){this.locale=t,this.mobile_number=o}}var y=s(529),d=s(262),P=s(2843),a=s(2340);class u{constructor(t){this._httpClient=t,this.httpOptions={headers:new y.WM({"Content-Type":"application/json"})}}updateUser(t){return this._httpClient.post(a.N.KEYCLOAK_URL_ROOT+"/realms/documental/account",t,this.httpOptions).pipe((0,d.K)(this.handleError))}sessionUserDelete(t){return this._httpClient.delete(a.N.KEYCLOAK_URL_ROOT+"/realms/documental/account/sessions/"+t,this.httpOptions).pipe((0,d.K)(this.handleError))}sessionUserDeleteAll(){return this._httpClient.delete(a.N.KEYCLOAK_URL_ROOT+"/realms/documental/account/sessions",this.httpOptions).pipe((0,d.K)(this.handleError))}getUserAccount(){return this._httpClient.get(a.N.KEYCLOAK_URL_ROOT+"/realms/documental/account",this.httpOptions).pipe((0,d.K)(this.handleError))}getUserPasswordInfo(){return this._httpClient.get(a.N.KEYCLOAK_URL_ROOT+"/realms/documental/account/credentials",this.httpOptions).pipe((0,d.K)(this.handleError))}getUserSessionDevices(){return this._httpClient.get(a.N.KEYCLOAK_URL_ROOT+"/realms/documental/account/sessions/devices",this.httpOptions).pipe((0,d.K)(this.handleError))}getUserLinkedAccounts(){return this._httpClient.get(a.N.KEYCLOAK_URL_ROOT+"/realms/documental/account/linked-accounts",this.httpOptions).pipe((0,d.K)(this.handleError))}handleError(t){return 0===t.status?console.error("An error occurred:",t.error):console.error(`Backend returned code ${t.status}, body was: `,t.error),(0,P._)(()=>new Error("Something bad happened; please try again later."))}}u.\u0275fac=function(t){return new(t||u)(e.LFG(y.eN))},u.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"});var R=s(7401),K=s(5412),B=s(5707),Q=s(7756),j=s(3238);function z(n,t){1&n&&(e.ynx(0),e._UZ(1,"mat-icon",21),e.TgZ(2,"span",22),e._uU(3,"Informa\xe7\xf5es da conta pessoal atualizadas"),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:check"))}function G(n,t){1&n&&(e.ynx(0),e._UZ(1,"mat-icon",23),e.TgZ(2,"span",22),e._uU(3,"Ocorreu um erro ao atualizar as informa\xe7\xf5es da conta. Tente novamente!"),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"))}function W(n,t){if(1&n&&(e.TgZ(0,"div",19),e.YNc(1,z,4,1,"ng-container",20),e.YNc(2,G,4,1,"ng-container",20),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("ngIf","success"===o.flashMessage),e.xp6(1),e.Q6J("ngIf","error"===o.flashMessage)}}class _{constructor(t,o,i,m,r,C,ye){this._changeDetectorRef=t,this._formBuilder=o,this._accountService=i,this._fuseConfirmationService=m,this.dialog=r,this._translocoService=C,this._keycloakService=ye,this.accountForm=this._formBuilder.group({username:[""],firstName:[""],lastName:[""],email:[""],phone:[],language:[],id:[""]}),this.flashMessage=null,this.isLoggedIn=!1,this.userProfile=null}ngOnInit(){var t=this;return(0,L.Z)(function*(){t.isLoggedIn=yield t._keycloakService.isLoggedIn(),t.isLoggedIn&&(t.userProfile=yield t._keycloakService.loadUserProfile()),t.accountForm=t._formBuilder.group({username:[t.userProfile?.username],firstName:[t.userProfile?.firstName],lastName:[t.userProfile?.lastName],email:[t.userProfile?.email,c.kI.email],phone:[t.userProfile?.attributes?.phone_number[0]],language:[t.userProfile?.attributes?.locale[0]],id:[t.userProfile?.id]}),t._changeDetectorRef.markForCheck()})()}updateUserAccount(){var t=new q;t.id=this.userProfile.id,t.username=this.accountForm.get("username").value,t.firstName=this.accountForm.get("firstName").value,t.lastName=this.accountForm.get("lastName").value,t.email=this.accountForm.get("email").value,t.attributes=new E([this.accountForm.get("language").value],[this.accountForm.get("phone").value]),this._fuseConfirmationService.open({title:this._translocoService.translate("modules.settings.account.update"),message:this._translocoService.translate("modules.settings.account.update-confirmation"),actions:{confirm:{label:this._translocoService.translate("comum.update")},cancel:{label:this._translocoService.translate("comum.cancelar")}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._accountService.updateUser(t).subscribe({error:m=>{this.showFlashMessage("error")},complete:()=>{this.showFlashMessage("success")}})})}showFlashMessage(t){this._changeDetectorRef.markForCheck(),this.flashMessage=t,setTimeout(()=>{this.flashMessage=null,this._changeDetectorRef.markForCheck()},3e3)}}_.\u0275fac=function(t){return new(t||_)(e.Y36(e.sBO),e.Y36(c.qu),e.Y36(u),e.Y36(R.R),e.Y36(K.uw),e.Y36(B.Vn),e.Y36(Q.MZ))},_.\u0275cmp=e.Xpm({type:_,selectors:[["settings-account"]],decls:66,vars:19,consts:[[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"w-full"],[1,"text-xl"],[1,"text-secondary"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-8"],[1,"sm:col-span-4"],[1,"fuse-mat-no-subscript","w-full"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["required","","matInput","",3,"formControlName"],[1,"sm:col-span-2"],[1,"my-10","border-t"],["matInput","",3,"formControlName"],[3,"formControlName"],[3,"value"],[1,"mt-11","mb-10","border-t"],[1,"flex","items-center","justify-end"],["class","flex items-center mr-4",4,"ngIf"],["mat-flat-button","","type","button",1,"ml-4",3,"color","click"],[1,"flex","items-center","mr-4"],[4,"ngIf"],[1,"text-green-500",3,"svgIcon"],[1,"ml-2"],[1,"text-red-500",3,"svgIcon"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),e._uU(4,"Perfil"),e.qZA(),e.TgZ(5,"div",4),e._uU(6,"As informa\xe7\xf5es a seguir s\xe3o exibidas publicamente, tenha cuidado!"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),e._uU(11,"Nome Utilizador"),e.qZA(),e._UZ(12,"mat-icon",8)(13,"input",9),e.qZA()(),e.TgZ(14,"div",10)(15,"mat-form-field",7)(16,"mat-label"),e._uU(17,"Primeiro Nome"),e.qZA(),e._UZ(18,"input",9),e.qZA()(),e.TgZ(19,"div",10)(20,"mat-form-field",7)(21,"mat-label"),e._uU(22,"Ultimo Nome"),e.qZA(),e._UZ(23,"input",9),e.qZA()()(),e._UZ(24,"div",11),e.TgZ(25,"div",2)(26,"div",3),e._uU(27,"Informa\xe7\xf5es pessoais"),e.qZA(),e.TgZ(28,"div",4),e._uU(29,"Detalhes de comunica\xe7\xe3o caso queiramos entrar em contato com voc\xea. Estes ser\xe3o mantidos em sigilo."),e.qZA()(),e.TgZ(30,"div",5)(31,"div",10)(32,"mat-form-field",7)(33,"mat-label"),e._uU(34,"E-mail"),e.qZA(),e._UZ(35,"mat-icon",8)(36,"input",9),e.qZA()(),e.TgZ(37,"div",10)(38,"mat-form-field",7)(39,"mat-label"),e._uU(40,"Telefone"),e.qZA(),e._UZ(41,"mat-icon",8)(42,"input",12),e.qZA()(),e.TgZ(43,"div",10)(44,"mat-form-field",7)(45,"mat-label"),e._uU(46,"Idiomas"),e.qZA(),e._UZ(47,"mat-icon",8),e.TgZ(48,"mat-select",13)(49,"mat-option",14),e._uU(50,"Portugu\xeas"),e.qZA(),e.TgZ(51,"mat-option",14),e._uU(52,"English"),e.qZA(),e.TgZ(53,"mat-option",14),e._uU(54,"French"),e.qZA(),e.TgZ(55,"mat-option",14),e._uU(56,"Spanish"),e.qZA(),e.TgZ(57,"mat-option",14),e._uU(58,"German"),e.qZA(),e.TgZ(59,"mat-option",14),e._uU(60,"Italian"),e.qZA()()()()(),e._UZ(61,"div",15),e.TgZ(62,"div",16),e.YNc(63,W,3,2,"div",17),e.TgZ(64,"button",18),e.NdJ("click",function(){return o.updateUserAccount()}),e._uU(65,"Salvar "),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.accountForm),e.xp6(11),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","username"),e.xp6(5),e.Q6J("formControlName","firstName"),e.xp6(5),e.Q6J("formControlName","lastName"),e.xp6(12),e.Q6J("svgIcon","heroicons_solid:mail"),e.xp6(1),e.Q6J("formControlName","email"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:phone"),e.xp6(1),e.Q6J("formControlName","phone"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:globe-alt"),e.xp6(1),e.Q6J("formControlName","language"),e.xp6(1),e.Q6J("value","portuguese"),e.xp6(2),e.Q6J("value","english"),e.xp6(2),e.Q6J("value","french"),e.xp6(2),e.Q6J("value","spanish"),e.xp6(2),e.Q6J("value","german"),e.xp6(2),e.Q6J("value","italian"),e.xp6(4),e.Q6J("ngIf",o.flashMessage),e.xp6(1),e.Q6J("color","primary"))},dependencies:[g.lW,f.KE,f.hX,f.qo,h.Hw,k.Nt,b.gD,j.ey,l.O5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u],encapsulation:2,changeDetection:0});class U{static dateStringDayYearMonth(t){let i=["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][t.getMonth()];return t.getDate()+" de "+i+", "+t.getFullYear()+" "+t.getHours()+":"+t.getMinutes()}static dateStringFullDayYearMonth(t){let o=t,r=["Domingo","Segunda-feira","Ter\xe7a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S\xe1bado"][o.getDay()],C=["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][o.getMonth()];return r+", "+o.getDate()+" de "+C+", "+o.getFullYear()+" "+o.getHours()+":"+o.getMinutes()}}class v{constructor(t,o){this._changeDetectorRef=t,this._accountService=o,this.linkPasswordReset=a.N.KEYCLOAK_URL_ROOT+"/realms/documental/protocol/openid-connect/auth?client_id=account-console&redirect_uri="+a.N.URL_ROOT+"/settings&state=1c286602-9693-496d-b631-ee6a09660d69&response_mode=fragment&response_type=code&scope=openid&nonce=204f58fa-d7ab-4be6-8539-444219f3d36c&kc_action=UPDATE_PASSWORD&code_challenge=kmh4ziCarPnWA5sjfpQtKLkqpuFRx0tCJFubpQWQSrM&code_challenge_method=S256"}ngOnInit(){this._accountService.getUserPasswordInfo().subscribe(t=>{this.createdDate=U.dateStringDayYearMonth(new Date(t[0].userCredentialMetadatas[0].credential.createdDate)),this._changeDetectorRef.markForCheck()})}}function H(n,t){1&n&&(e.TgZ(0,"div",20)(1,"button",21),e._uU(2," Sess\xe3o Atual "),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("color","primary"))}function $(n,t){if(1&n){const o=e.EpF();e.TgZ(0,"div",22)(1,"button",23),e.NdJ("click",function(){e.CHM(o);const m=e.oxw().$implicit,r=e.oxw();return e.KtG(r.sessionUserDelete(m.sessionId))}),e._uU(2," Sair "),e.qZA()()}}function X(n,t){if(1&n&&(e.ynx(0),e.TgZ(1,"div",10)(2,"div",11)(3,"div",12),e.ynx(4),e._UZ(5,"mat-icon",13),e.BQk(),e.qZA(),e.TgZ(6,"div",14)(7,"div",15),e._uU(8),e.qZA(),e.TgZ(9,"div",15),e._uU(10,"Endere\xe7o IP"),e.qZA(),e.TgZ(11,"div",2),e._uU(12),e.qZA()(),e.TgZ(13,"div",16)(14,"div",15),e._uU(15,"\xdaltimo acesso em"),e.qZA(),e.TgZ(16,"div",2),e._uU(17),e.qZA()(),e.TgZ(18,"div",16)(19,"div",15),e._uU(20,"Expira em"),e.qZA(),e.TgZ(21,"div",2),e._uU(22),e.qZA()(),e.TgZ(23,"div",17),e.YNc(24,H,3,1,"div",18),e.qZA()(),e.YNc(25,$,3,0,"div",19),e.qZA(),e.BQk()),2&n){const o=t.$implicit;e.xp6(5),e.Q6J("svgIcon","heroicons_outline:desktop-computer"),e.xp6(3),e.AsE("",o.deviceName," / ",o.browser,""),e.xp6(4),e.Oqu(o.ipAddress),e.xp6(5),e.Oqu(o.lastAccess),e.xp6(5),e.Oqu(o.expires),e.xp6(2),e.Q6J("ngIf",o.current),e.xp6(1),e.Q6J("ngIf",!o.current)}}function V(n,t){1&n&&(e.ynx(0),e._UZ(1,"mat-icon",26),e.TgZ(2,"span",27),e._uU(3,"Ocorreu um erro ao atualizar as informa\xe7\xf5es da conta. Tente novamente!"),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:check"))}function ee(n,t){1&n&&(e.ynx(0),e._UZ(1,"mat-icon",28),e.TgZ(2,"span",27),e._uU(3,"Ocorreu um erro. Por favor, tente novamente!"),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"))}function te(n,t){if(1&n&&(e.TgZ(0,"div",24),e.YNc(1,V,4,1,"ng-container",25),e.YNc(2,ee,4,1,"ng-container",25),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("ngIf","success"===o.flashMessage),e.xp6(1),e.Q6J("ngIf","error"===o.flashMessage)}}v.\u0275fac=function(t){return new(t||v)(e.Y36(e.sBO),e.Y36(u))},v.\u0275cmp=e.Xpm({type:v,selectors:[["settings-security"]],decls:20,vars:2,consts:[[1,"w-full","max-w-3xl"],[1,"w-full"],[1,"text-xl"],[1,"text-secondary"],[1,"my-10","border-t"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-8"],[1,"sm:col-span-4","flex","items-center","justify-between"],[1,"flex-auto","cursor-pointer"],[1,"flex-auto","ml-4"],[1,"mr-4"],[1,"ml-4"],["mat-stroked-button","",3,"href"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form")(2,"div",1)(3,"div",2),e._uU(4,"Mude sua senha"),e.qZA(),e.TgZ(5,"div",3),e._uU(6,"Voc\xea s\xf3 pode alterar sua senha duas vezes em 24 horas!"),e.qZA()(),e._UZ(7,"div",4),e.TgZ(8,"div",5)(9,"div",6)(10,"div",7),e._uU(11," Minha Senha "),e.qZA(),e.TgZ(12,"div",8)(13,"b",9),e._uU(14,"Criada em"),e.qZA(),e._uU(15),e.qZA(),e.TgZ(16,"div",10)(17,"a",11),e._uU(18," Actualizar "),e.qZA()()()(),e._UZ(19,"div",4),e.qZA()()),2&t&&(e.xp6(15),e.hij(" ",o.createdDate," "),e.xp6(2),e.s9C("href",o.linkPasswordReset,e.LSH))},dependencies:[g.zs,c._Y,c.JL,c.F],encapsulation:2,changeDetection:0});class x{constructor(t,o,i){this._accountService=t,this._changeDetectorRef=o,this._keycloakService=i,this.devices=[],this.flashMessage=null}ngOnInit(){this.getDevices()}getDevices(){this.devices=[],this._accountService.getUserSessionDevices().subscribe(t=>{t.forEach(o=>{o.sessions.forEach(i=>{this.devices.push({sessionId:i.id,deviceName:o.os+" "+o.osVersion,browser:i.browser,current:i.current,expires:U.dateStringDayYearMonth(new Date(i.expires)),ipAddress:i.ipAddress,lastAccess:U.dateStringDayYearMonth(new Date(i.lastAccess)),started:U.dateStringDayYearMonth(new Date(i.started))})})}),this._changeDetectorRef.markForCheck()})}sessionUserDelete(t){this._accountService.sessionUserDelete(t).subscribe({error:o=>{this.showFlashMessage("error")},complete:()=>{this.showFlashMessage("success"),this.getDevices()}})}sessionUserDeleteAll(){this._accountService.sessionUserDeleteAll().subscribe({error:t=>{this.showFlashMessage("error")},complete:()=>{this.showFlashMessage("success"),this._keycloakService.logout()}})}showFlashMessage(t){this._changeDetectorRef.markForCheck(),this.flashMessage=t,setTimeout(()=>{this.flashMessage=null,this._changeDetectorRef.markForCheck()},3e3)}}function ne(n,t){1&n&&(e.ynx(0),e._UZ(1,"div",8),e.TgZ(2,"div",3),e._uU(3,"Nenhum Provedor Conectado."),e.qZA(),e.BQk())}function oe(n,t){1&n&&e._UZ(0,"mat-icon",18),2&n&&e.Q6J("svgIcon","feather:google_custom")}function ie(n,t){1&n&&e._UZ(0,"mat-icon",18),2&n&&e.Q6J("svgIcon","feather:facebook_custom")}function se(n,t){1&n&&e._UZ(0,"mat-icon",18),2&n&&e.Q6J("svgIcon","feather:github_custom")}function ce(n,t){1&n&&e._UZ(0,"mat-icon",18),2&n&&e.Q6J("svgIcon","feather:linkedin_custom")}function ae(n,t){1&n&&(e.TgZ(0,"div",15),e._uU(1," Login Social "),e.qZA())}function re(n,t){if(1&n&&(e.ynx(0),e._UZ(1,"div",8),e.TgZ(2,"div",9)(3,"div",10)(4,"div",11)(5,"a",12),e.YNc(6,oe,1,1,"mat-icon",13),e.YNc(7,ie,1,1,"mat-icon",13),e.YNc(8,se,1,1,"mat-icon",13),e.YNc(9,ce,1,1,"mat-icon",13),e._uU(10),e.qZA()(),e.YNc(11,ae,2,0,"div",14),e.TgZ(12,"div",15)(13,"a",16),e._UZ(14,"mat-icon",17),e._uU(15," Conectar Conta "),e.qZA()()()(),e.BQk()),2&n){const o=t.$implicit;e.xp6(6),e.Q6J("ngIf","google"==o.providerName),e.xp6(1),e.Q6J("ngIf","facebook"==o.providerName),e.xp6(1),e.Q6J("ngIf","github"==o.providerName),e.xp6(1),e.Q6J("ngIf","linkedin"==o.providerName),e.xp6(1),e.hij(" ",o.displayName," "),e.xp6(1),e.Q6J("ngIf",o.social),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:link")}}function le(n,t){1&n&&(e.ynx(0),e._UZ(1,"div",8),e.TgZ(2,"div",3),e._uU(3,"Nenhum Provedor Conectado."),e.qZA(),e.BQk())}function ue(n,t){1&n&&e._UZ(0,"mat-icon",18),2&n&&e.Q6J("svgIcon","feather:google_custom")}function me(n,t){1&n&&e._UZ(0,"mat-icon",18),2&n&&e.Q6J("svgIcon","feather:facebook_custom")}function de(n,t){1&n&&e._UZ(0,"mat-icon",18),2&n&&e.Q6J("svgIcon","feather:github_custom")}function ge(n,t){1&n&&e._UZ(0,"mat-icon",18),2&n&&e.Q6J("svgIcon","feather:linkedin_custom")}function pe(n,t){1&n&&(e.TgZ(0,"div",15),e._uU(1," Login Social "),e.qZA())}function fe(n,t){if(1&n&&(e.ynx(0),e._UZ(1,"div",8),e.TgZ(2,"div",9)(3,"div",10)(4,"div",11)(5,"a",12),e.YNc(6,ue,1,1,"mat-icon",13),e.YNc(7,me,1,1,"mat-icon",13),e.YNc(8,de,1,1,"mat-icon",13),e.YNc(9,ge,1,1,"mat-icon",13),e._uU(10),e.qZA()(),e.YNc(11,pe,2,0,"div",14),e.TgZ(12,"div",15)(13,"a",16),e._UZ(14,"mat-icon",17),e._uU(15," Conectar Conta "),e.qZA()()()(),e.BQk()),2&n){const o=t.$implicit;e.xp6(6),e.Q6J("ngIf","google"==o.providerName),e.xp6(1),e.Q6J("ngIf","facebook"==o.providerName),e.xp6(1),e.Q6J("ngIf","github"==o.providerName),e.xp6(1),e.Q6J("ngIf","linkedin"==o.providerName),e.xp6(1),e.hij(" ",o.displayName," "),e.xp6(1),e.Q6J("ngIf",o.social),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:link")}}x.\u0275fac=function(t){return new(t||x)(e.Y36(u),e.Y36(e.sBO),e.Y36(Q.MZ))},x.\u0275cmp=e.Xpm({type:x,selectors:[["settings-team"]],decls:16,vars:4,consts:[[1,"w-full"],[1,"text-xl"],[1,"text-secondary"],[1,"flex","items-center","justify-end","mt-10"],["mat-stroked-button","","type","button",1,"mr-4",3,"click"],[1,"text-black","mr-2",3,"svgIcon"],["mat-flat-button","","type","button",3,"color","click"],[1,"flex","flex-col","mt-8","divide-y","border-t","border-b"],[4,"ngFor","ngForOf"],["class","flex items-center mr-4",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","sm:items-center","py-6"],[1,"flex","items-center"],[1,"flex","flex-0","items-center","justify-center","w-10","h-10","rounded-full","overflow-hidden"],[1,"text-hint",3,"svgIcon"],[1,"ml-5"],[1,"font-medium"],[1,"ml-10"],[1,"ml-8"],["class","flex items-center mt-6 sm:mt-0 sm:ml-auto",4,"ngIf"],["class","flex items-center mt-4 sm:mt-0 sm:ml-auto",4,"ngIf"],[1,"flex","items-center","mt-6","sm:mt-0","sm:ml-auto"],["disabled","","mat-flat-button","","type","button",3,"color"],[1,"flex","items-center","mt-4","sm:mt-0","sm:ml-auto"],["mat-stroked-button","","type","button",3,"click"],[1,"flex","items-center","mr-4"],[4,"ngIf"],[1,"text-green-500",3,"svgIcon"],[1,"ml-2"],[1,"text-red-500",3,"svgIcon"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",0)(2,"div",1),e._uU(3,"Dispositivos autenticados"),e.qZA(),e.TgZ(4,"div",2),e._uU(5,"Saia de qualquer dispositivo que n\xe3o reconhe\xe7a"),e.qZA()(),e.TgZ(6,"div",3)(7,"button",4),e.NdJ("click",function(){return o.getDevices()}),e._UZ(8,"mat-icon",5),e._uU(9," Actualizar "),e.qZA(),e.TgZ(10,"button",6),e.NdJ("click",function(){return o.sessionUserDeleteAll()}),e._uU(11,"Finalizar Sess\xe3o em Todos os Dispositivos "),e.qZA()(),e.TgZ(12,"div",7),e.YNc(13,X,26,8,"ng-container",8),e.qZA(),e.TgZ(14,"div",3),e.YNc(15,te,3,2,"div",9),e.qZA()()),2&t&&(e.xp6(8),e.Q6J("svgIcon","heroicons_outline:refresh"),e.xp6(2),e.Q6J("color","primary"),e.xp6(3),e.Q6J("ngForOf",o.devices),e.xp6(2),e.Q6J("ngIf",o.flashMessage))},dependencies:[g.lW,h.Hw,l.sg,l.O5],encapsulation:2,changeDetection:0});class Z{constructor(t,o){this._changeDetectorRef=t,this._accountService=o,this.linkPasswordReset=a.N.KEYCLOAK_URL_ROOT+"/realms/documental/protocol/openid-connect/auth?client_id=account-console&redirect_uri="+a.N.URL_ROOT+"/settings&state=1c286602-9693-496d-b631-ee6a09660d69&response_mode=fragment&response_type=code&scope=openid&nonce=204f58fa-d7ab-4be6-8539-444219f3d36c&kc_action=UPDATE_PASSWORD&code_challenge=kmh4ziCarPnWA5sjfpQtKLkqpuFRx0tCJFubpQWQSrM&code_challenge_method=S256"}ngOnInit(){this.getLinkedAccounts()}getLinkedAccounts(){this._accountService.getUserLinkedAccounts().subscribe(t=>{this.linkedAccountsConnecteds=t.filter(o=>1==o.connected),this.linkedAccountsNotConnecteds=t.filter(o=>0==o.connected),this._changeDetectorRef.markForCheck()})}}Z.\u0275fac=function(t){return new(t||Z)(e.Y36(e.sBO),e.Y36(u))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["settings-linked-accounts"]],decls:19,vars:4,consts:[[1,"w-full","max-w-3xl"],[1,"w-full"],[1,"text-xl"],[1,"text-secondary"],[1,"w-full","mt-10"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"my-10","border-t"],[1,"my-5","border-t"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-8"],[1,"sm:col-span-4","flex","items-center","justify-between"],[1,"cursor-pointer"],["mat-flat-button","","href","#","matSuffix",""],["class","text-black mr-2",3,"svgIcon",4,"ngIf"],["class","ml-4",4,"ngIf"],[1,"ml-4"],["color","primary","mat-flat-button","","href","#","mat-stroked-button","","disabled","","matSuffix",""],[1,"text-black","mr-2",2,"color","white!important",3,"svgIcon"],[1,"text-black","mr-2",3,"svgIcon"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form")(2,"div",1)(3,"div",2),e._uU(4,"Contas socias conectadas "),e.qZA(),e.TgZ(5,"div",3),e._uU(6,"Gerenciar acessos por contas de outras aplica\xe7\xf5es."),e.qZA()(),e.TgZ(7,"div",4)(8,"div",2),e._uU(9,"Provedores de Acesso Conectados"),e.qZA()(),e.YNc(10,ne,4,0,"ng-container",5),e.YNc(11,re,16,7,"ng-container",6),e._UZ(12,"div",7),e.TgZ(13,"div",4)(14,"div",2),e._uU(15,"Provedores de Acesso N\xe3o-Conectados"),e.qZA()(),e.YNc(16,le,4,0,"ng-container",5),e.YNc(17,fe,16,7,"ng-container",6),e._UZ(18,"div",7),e.qZA()()),2&t&&(e.xp6(10),e.Q6J("ngIf",o.linkedAccountsConnecteds.length<=0),e.xp6(1),e.Q6J("ngForOf",o.linkedAccountsConnecteds),e.xp6(5),e.Q6J("ngIf",o.linkedAccountsNotConnecteds.length<=0),e.xp6(1),e.Q6J("ngForOf",o.linkedAccountsNotConnecteds))},dependencies:[g.zs,f.R9,h.Hw,l.sg,l.O5,c._Y,c.JL,c.F],encapsulation:2,changeDetection:0});const he=["drawer"],_e=function(n,t){return{"hover:bg-gray-100 dark:hover:bg-hover":n,"bg-primary-50 dark:bg-hover":t}},ve=function(n,t){return{"text-hint":n,"text-primary dark:text-primary-500":t}},xe=function(n){return{"text-primary dark:text-primary-500":n}};function Ze(n,t){if(1&n){const o=e.EpF();e.ynx(0),e.TgZ(1,"div",19),e.NdJ("click",function(){const r=e.CHM(o).$implicit,C=e.oxw();return e.KtG(C.goToPanel(r.id))}),e._UZ(2,"mat-icon",20),e.TgZ(3,"div",21)(4,"div",22),e._uU(5),e.qZA(),e.TgZ(6,"div",23),e._uU(7),e.qZA()()(),e.BQk()}if(2&n){const o=t.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngClass",e.WLB(6,_e,!i.selectedPanel||i.selectedPanel!==o.id,i.selectedPanel&&i.selectedPanel===o.id)),e.xp6(1),e.Q6J("ngClass",e.WLB(9,ve,!i.selectedPanel||i.selectedPanel!==o.id,i.selectedPanel&&i.selectedPanel===o.id))("svgIcon",o.icon),e.xp6(2),e.Q6J("ngClass",e.VKq(12,xe,i.selectedPanel&&i.selectedPanel===o.id)),e.xp6(1),e.hij(" ",o.title," "),e.xp6(2),e.hij(" ",o.description," ")}}function Ae(n,t){1&n&&(e.ynx(0),e._UZ(1,"settings-account"),e.BQk())}function Ce(n,t){1&n&&(e.ynx(0),e._UZ(1,"settings-security"),e.BQk())}function Te(n,t){1&n&&(e.ynx(0),e._UZ(1,"settings-linked-accounts"),e.BQk())}function Ue(n,t){1&n&&(e.ynx(0),e._UZ(1,"settings-team"),e.BQk())}const Se=function(){return{wheelPropagation:!1,suppressScrollX:!0}};class A{constructor(t,o){this._changeDetectorRef=t,this._fuseMediaWatcherService=o,this.drawerMode="side",this.drawerOpened=!0,this.panels=[],this.selectedPanel="account",this._unsubscribeAll=new O.x}ngOnInit(){this.panels=[{id:"account",icon:"heroicons_outline:user-circle",title:"Perfil",description:"Gerencie o seu perfil e suas informa\xe7\xf5es privadas"},{id:"security",icon:"heroicons_outline:lock-closed",title:"Segura\xe7na",description:"Gerencie as suas cred\xeancias e as prefer\xeancias da autentica\xe7\xe3o por 2-factores"},{id:"team",icon:"heroicons_outline:desktop-computer",title:"Atividade de Dispositivos",description:"Manage your existing authenticated devices"},{id:"linkedAccounts",icon:"heroicons_outline:link",title:"Contas conectadas",description:"Gerenciar acessos por contas de outras aplica\xe7\xf5es."}],this._fuseMediaWatcherService.onMediaChange$.pipe((0,w.R)(this._unsubscribeAll)).subscribe(({matchingAliases:t})=>{t.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}goToPanel(t){this.selectedPanel=t,"over"===this.drawerMode&&this.drawer.close()}getPanelInfo(t){return this.panels.find(o=>o.id===t)}trackByFn(t,o){return o.id||t}}A.\u0275fac=function(t){return new(t||A)(e.Y36(e.sBO),e.Y36(Y.T))},A.\u0275cmp=e.Xpm({type:A,selectors:[["settings"]],viewQuery:function(t,o){if(1&t&&e.Gf(he,5),2&t){let i;e.iGM(i=e.CRH())&&(o.drawer=i.first)}},decls:25,vars:15,consts:[[1,"flex","flex-col","w-full","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden"],[1,"flex-auto","sm:h-full"],[1,"sm:w-96","dark:bg-gray-900",3,"autoFocus","mode","opened"],["drawer",""],[1,"flex","items-center","justify-between","m-8","mr-6","sm:my-10"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"lg:hidden"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"flex","flex-col","divide-y","border-t","border-b"],[4,"ngFor","ngForOf","ngForTrackBy"],["fuseScrollbar","",1,"flex","flex-col",3,"fuseScrollbarOptions"],[1,"flex-auto","px-6","pt-9","pb-12","md:p-8","md:pb-12","lg:p-12"],[1,"flex","items-center"],["mat-icon-button","",1,"lg:hidden","-ml-2",3,"click"],[1,"ml-2","lg:ml-0","text-3xl","font-bold","tracking-tight","leading-none"],[1,"mt-8"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flex","px-8","py-5","cursor-pointer",3,"ngClass","click"],[3,"ngClass","svgIcon"],[1,"ml-3"],[1,"font-medium","leading-6",3,"ngClass"],[1,"mt-0.5","text-secondary"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"mat-drawer-container",1)(2,"mat-drawer",2,3)(4,"div",4)(5,"div",5),e._uU(6,"Configura\xe7\xf5es"),e.qZA(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){e.CHM(i);const r=e.MAs(3);return e.KtG(r.close())}),e._UZ(9,"mat-icon",8),e.qZA()()(),e.TgZ(10,"div",9),e.YNc(11,Ze,8,14,"ng-container",10),e.qZA()(),e.TgZ(12,"mat-drawer-content",11)(13,"div",12)(14,"div",13)(15,"button",14),e.NdJ("click",function(){e.CHM(i);const r=e.MAs(3);return e.KtG(r.toggle())}),e._UZ(16,"mat-icon",8),e.qZA(),e.TgZ(17,"div",15),e._uU(18),e.qZA()(),e.TgZ(19,"div",16),e.ynx(20,17),e.YNc(21,Ae,2,0,"ng-container",18),e.YNc(22,Ce,2,0,"ng-container",18),e.YNc(23,Te,2,0,"ng-container",18),e.YNc(24,Ue,2,0,"ng-container",18),e.BQk(),e.qZA()()()()()}2&t&&(e.xp6(2),e.Q6J("autoFocus",!1)("mode",o.drawerMode)("opened",o.drawerOpened),e.xp6(7),e.Q6J("svgIcon","heroicons_outline:x"),e.xp6(2),e.Q6J("ngForOf",o.panels)("ngForTrackBy",o.trackByFn),e.xp6(1),e.Q6J("fuseScrollbarOptions",e.DdM(14,Se)),e.xp6(4),e.Q6J("svgIcon","heroicons_outline:menu"),e.xp6(2),e.hij(" ",o.getPanelInfo(o.selectedPanel).title," "),e.xp6(2),e.Q6J("ngSwitch",o.selectedPanel),e.xp6(1),e.Q6J("ngSwitchCase","account"),e.xp6(1),e.Q6J("ngSwitchCase","security"),e.xp6(1),e.Q6J("ngSwitchCase","linkedAccounts"),e.xp6(1),e.Q6J("ngSwitchCase","team"))},dependencies:[g.RK,h.Hw,T.jA,T.kh,T.LW,l.mk,l.sg,l.RF,l.n9,M.H,_,v,x,Z],encapsulation:2,changeDetection:0});const ke=[{path:"",component:A}];var be=s(9567);class p{}p.\u0275fac=function(t){return new(t||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[J.Bz.forChild(ke),g.ot,f.lN,h.Ps,k.c,N.Fk,b.LD,T.SJ,I.rP,D.fC,F.m,be.o]})}}]);