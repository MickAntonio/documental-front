"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[364],{79:(F,h,i)=>{i.d(h,{V:()=>d});var f=i(4650);class c{constructor(){}transform(p,_,v){return Array.isArray(p)?p.map(E=>v.find(g=>g[_]===E)):v.find(E=>E[_]===p)}}c.\u0275fac=function(p){return new(p||c)},c.\u0275pipe=f.Yjl({name:"fuseFindByKey",type:c,pure:!1});class d{}d.\u0275fac=function(p){return new(p||d)},d.\u0275mod=f.oAB({type:d}),d.\u0275inj=f.cJS({})},8364:(F,h,i)=>{i.r(h),i.d(h,{EntidadesModule:()=>C});var f=i(9299),c=i(1206),d=i(7957),m=i(4859),p=i(6709),_=i(3238),v=i(9602),E=i(4850),g=i(9549),I=i(7392),r=i(284),u=i(9506),x=i(8255),T=i(3162),N=i(1948),L=i(4385),J=i(3267),B=i(266),Y=i(79),k=i(4466),z=i(516),q=i(7579),S=i(2722),K=i(6451),$=i(3900),s=i(4006),D=i(8739),w=i(6308),j=i(8288),M=i(529),e=i(4650),R=i(5979),W=i(4880),P=i(9424),O=i(7775),G=i(2141),Z=i(6895),V=i(8214),H=i(7401),Q=i(3231);function X(a,t){if(1&a&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&a){const n=t.$implicit;e.s9C("value",n.id),e.Q6J("value",n.id),e.xp6(1),e.hij(" ",n.nome," ")}}function ee(a,t){1&a&&(e.TgZ(0,"div",35)(1,"mat-form-field",16)(2,"mat-label"),e._uU(3,"Utilizador"),e.qZA(),e._UZ(4,"input",36),e.qZA(),e.TgZ(5,"mat-form-field",16)(6,"mat-label"),e._uU(7,"Palavra-passe"),e.qZA(),e._UZ(8,"input",37),e.qZA()()),2&a&&(e.xp6(4),e.Q6J("placeholder","Informe o nome"),e.xp6(4),e.Q6J("placeholder","Informe a palavra-passe"))}class b{constructor(t,n,o,l,y,U){this._changeDetectorRef=t,this._formBuilder=n,this._fuseConfirmationService=o,this._entidadeService=l,this._drawerService=y,this._fuseAlertService=U,this.alertMessage=new e.vpe,this.alert={type:"success",message:""}}ngOnInit(){this.setupForm(),this.searchTipoEntidades=this.tipoEntidades}ngOnChanges(t){t.entidade&&(this.entidade?1!=this._drawerService.opened()||this.entidadeForm?.pristine?(this.disabledDelete=!1,this.entidadeForm.patchValue(this.entidade,{emitEvent:!1}),this._drawerService.open()):this.saveTipoEntidadeConfirmation():1!=this._drawerService.opened()||this.entidadeForm?.pristine?(this.disabledDelete=!0,this.setupForm()):this.saveTipoEntidadeConfirmation(),this._changeDetectorRef.markForCheck())}setupForm(){this.entidadeForm=this._formBuilder.group({id:new s.NI,nome:new s.NI("",[s.kI.required]),nif:new s.NI(""),codigo:new s.NI(""),entidadeTipoId:new s.NI("",[s.kI.required]),email:new s.NI("",[s.kI.required]),telefone:new s.NI(""),endereco:new s.NI(""),activo:new s.NI(!1),accesso:new s.NI(!1),username:new s.NI(""),password:new s.NI("")})}createTipoEntidade(t){this._entidadeService.createEntidade(t).subscribe({error:n=>{this.alert={type:"error",message:`${n.error}`},this._fuseAlertService.show("alertBoxEntidades"),this.alertMessage.emit(this.alert)},complete:()=>{this.alert={type:"success",message:"Entidade adicionado com successo!"},this._entidadeService.getEntidades(this._entidadeService.getEntidadeDefaultParams).subscribe(),this._fuseAlertService.show("alertBoxEntidades"),this.alertMessage.emit(this.alert),this.entidadeForm.reset(),this._drawerService.close()}})}updateTipoEntidade(t){this._entidadeService.updateEntidade(t.id,t).subscribe({error:n=>{this.alert={type:"error",message:`${n.error}`},this._fuseAlertService.show("alertBoxEntidades"),this.alertMessage.emit(this.alert)},complete:()=>{this.alert={type:"success",message:"Entidade actualizado com successo!"},this._entidadeService.getEntidades(this._entidadeService.getEntidadeDefaultParams).subscribe(),this._fuseAlertService.show("alertBoxEntidades"),this.alertMessage.emit(this.alert),this.entidadeForm.reset(),this._drawerService.close()}})}save(t){0==t.id||null==t.id?this.createTipoEntidade(t):this.updateTipoEntidade(t)}deleteTipoEntidade(){0!=this.entidadeForm.get("id").value&&this._fuseConfirmationService.open({title:"Remover Entidade",message:"Tem certeza que queres remover este entidade? Essa ac\xe7\xe3o n\xe3o pode ser desfeita",actions:{confirm:{label:"Remover"},cancel:{label:"Cancelar"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._entidadeService.deleteEntidade(this.entidadeForm.get("id").value).subscribe({complete:()=>{this.alert={type:"success",message:"Entidade removido com successo!"},this._drawerService.close(),this._entidadeService.getEntidades(this._entidadeService.getEntidadeDefaultParams).subscribe(),this._fuseAlertService.show("alertBoxEntidades"),this.alertMessage.emit(this.alert)},error:o=>{this.alert={type:"error",message:o.error},this._fuseAlertService.show("alertBoxEntidades"),this.alertMessage.emit(this.alert),this._changeDetectorRef.markForCheck()}})})}ngOnDestroy(){this._drawerService.close()}saveTipoEntidadeConfirmation(){var t=null==this.entidadeForm?.get("id").value||0==this.entidadeForm?.get("id").value;this._fuseConfirmationService.open({title:"Tipo de Entidade",dismissible:!0,icon:{color:"primary"},message:t?"O formul\xe1rio cont\xeam dados n\xe3o salvos, deseja salvar?":"Foram feitas altera\xe7\xf5es no formul\xe1rio do entidade, deseja salvar as altera\xe7\xf5es?",actions:{confirm:{label:"Salvar",color:"primary"},cancel:{label:"N\xe3o Salvar"}}}).afterClosed().subscribe(o=>{"confirmed"===o?t?this.createTipoEntidade(this.entidadeForm.value):this.updateTipoEntidade(this.entidadeForm.value):(this.entidadeForm.reset(),this.entidadeForm.patchValue(this.entidade,{emitEvent:!1}))})}trackByFn(t,n){return n.id||t}closeDrawer(){this._drawerService.close()}filterTipoEntidades(t){this.searchTipoEntidades=this.tipoEntidades.filter(n=>n.nome.toLowerCase().includes(t.target.value.toLowerCase()))}}b.\u0275fac=function(t){return new(t||b)(e.Y36(e.sBO),e.Y36(s.QS),e.Y36(H.R),e.Y36(R.b),e.Y36(P.z),e.Y36(O.jm))},b.\u0275cmp=e.Xpm({type:b,selectors:[["entidade-form"]],inputs:{entidade:"entidade",tipoEntidades:"tipoEntidades"},outputs:{alertMessage:"alertMessage"},features:[e.TTD],decls:69,vars:24,consts:[[1,"flex","flex-auto"],[1,"flex","flex-col","flex-auto","p-6","pt-10","sm:p-8","sm:pt-10","overflow-y-auto",3,"formGroup"],[1,"flex","items-center","justify-between","-mt-3","-ml-4"],[1,"flex","items-center","justify-center","pr-4","pl-3.5"],[3,"svgIcon"],[1,"ml-2","font-semibold"],[1,"flex","items-center"],["mat-icon-button","",3,"matMenuTriggerFor"],["moreMenu","matMenu"],["mat-menu-item","",3,"disabled","click"],["mat-icon-button","",3,"click"],[1,"mb-8"],[1,"flex"],[1,"flex-auto",3,"subscriptSizing"],["matInput","","maxlength","250",3,"formControlName","spellcheck","placeholder"],[1,"flex","gap-2","mt-4"],[1,"flex-auto"],["matInput","","maxlength","50","formControlName","codigo",3,"placeholder"],["matInput","","formControlName","nif","maxlength","20",3,"placeholder"],[1,"flex","gap-2"],["formControlName","entidadeTipoId","required",""],["singleSelect",""],["placeholderLabel","Pesquisar a tipo de entidade...",3,"input"],["svgIcon","heroicons_outline:x"],["ngxMatSelectNoEntriesFound",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","email","type","email",3,"placeholder"],["matInput","","maxlength","50","formControlName","telefone",3,"placeholder"],["matInput","","maxlength","250","formControlName","endereco",3,"placeholder"],["class","flex gap-2 bg-gray-100 p-2 border-radius-4",4,"ngIf"],[1,"flex","mt-2"],[3,"formControlName","color"],[1,"flex","justify-end"],["mat-flat-button","","type","button",1,"px-8",3,"disabled","color","click"],[3,"value"],[1,"flex","gap-2","bg-gray-100","p-2","border-radius-4"],["matInput","","maxlength","50","formControlName","username",3,"placeholder"],["matInput","","maxlength","50","formControlName","password","type","password",3,"placeholder"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),e._UZ(4,"mat-icon",4),e.TgZ(5,"span",5),e._uU(6,"Tipo de Entidade"),e.qZA()(),e.TgZ(7,"div",6)(8,"button",7),e._UZ(9,"mat-icon",4),e.qZA(),e.TgZ(10,"mat-menu",null,8)(12,"button",9),e.NdJ("click",function(){return n.deleteTipoEntidade()}),e._UZ(13,"mat-icon",4),e.TgZ(14,"span"),e._uU(15,"Excluir Tipo de Entidade"),e.qZA()()(),e.TgZ(16,"a",10),e.NdJ("click",function(){return n.closeDrawer()}),e._UZ(17,"mat-icon",4),e.qZA()()(),e._UZ(18,"mat-divider",11),e.TgZ(19,"div")(20,"div",12)(21,"mat-form-field",13)(22,"mat-label"),e._uU(23,"Nome"),e.qZA(),e._UZ(24,"input",14),e.qZA()(),e.TgZ(25,"div",15)(26,"mat-form-field",16)(27,"mat-label"),e._uU(28,"Codigo"),e.qZA(),e._UZ(29,"input",17),e.qZA(),e.TgZ(30,"mat-form-field",16)(31,"mat-label"),e._uU(32,"NIF"),e.qZA(),e._UZ(33,"input",18),e.qZA()(),e.TgZ(34,"div",19)(35,"mat-form-field",16)(36,"mat-label"),e._uU(37,"Tipo de Entidade"),e.qZA(),e.TgZ(38,"mat-select",20,21)(40,"mat-option")(41,"ngx-mat-select-search",22),e.NdJ("input",function(l){return n.filterTipoEntidades(l)}),e._UZ(42,"mat-icon",23),e.TgZ(43,"span",24),e._uU(44,"Op\xe7\xe3o n\xe3o encontrada"),e.qZA()()(),e.YNc(45,X,2,3,"mat-option",25),e.qZA()(),e.TgZ(46,"mat-form-field",16)(47,"mat-label"),e._uU(48,"E-mail"),e.qZA(),e._UZ(49,"input",26),e.qZA()(),e.TgZ(50,"div",19)(51,"mat-form-field",16)(52,"mat-label"),e._uU(53,"Telefone"),e.qZA(),e._UZ(54,"input",27),e.qZA(),e.TgZ(55,"mat-form-field",16)(56,"mat-label"),e._uU(57,"Endere\xe7o"),e.qZA(),e._UZ(58,"input",28),e.qZA()(),e.YNc(59,ee,9,2,"div",29),e.TgZ(60,"div",30)(61,"div",16)(62,"mat-checkbox",31),e._uU(63," Activar "),e.qZA(),e.TgZ(64,"mat-checkbox",31),e._uU(65," Dados de acesso "),e.qZA()()(),e.TgZ(66,"div",32)(67,"button",33),e.NdJ("click",function(){return n.save(n.entidadeForm.value)}),e._uU(68," Salvar "),e.qZA()()()()()),2&t){const o=e.MAs(11);e.xp6(1),e.Q6J("formGroup",n.entidadeForm),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:pencil-alt"),e.xp6(4),e.Q6J("matMenuTriggerFor",o),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:dots-vertical"),e.xp6(3),e.Q6J("disabled",n.disabledDelete),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:trash"),e.xp6(4),e.Q6J("svgIcon","heroicons_outline:x"),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","nome")("spellcheck",!1)("placeholder","Informe o nome"),e.xp6(5),e.Q6J("placeholder","Informe codigo"),e.xp6(4),e.Q6J("placeholder","Informe nif"),e.xp6(12),e.Q6J("ngForOf",n.searchTipoEntidades),e.xp6(4),e.Q6J("placeholder","Informe o e-mail"),e.xp6(5),e.Q6J("placeholder","Informe o codigo"),e.xp6(4),e.Q6J("placeholder","Informe o endere\xe7o"),e.xp6(1),e.Q6J("ngIf",n.entidadeForm.get("accesso").value),e.xp6(3),e.Q6J("formControlName","activo")("color","primary"),e.xp6(2),e.Q6J("formControlName","accesso")("color","primary"),e.xp6(3),e.Q6J("disabled",n.entidadeForm.invalid||n.entidadeForm.pristine)("color","primary")}},dependencies:[_.ey,m.lW,m.o6,m.RK,p.oG,E.d,g.KE,g.hX,I.Hw,r.Nt,x.VK,x.OP,x.p6,L.gD,Z.sg,Z.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.nD,s.sg,s.u,Q.nu,Q.C0],styles:[".ml-170{margin-left:170px}.mat-mdc-form-field-required-marker{color:rgb(220 38 38/var(--tw-text-opacity));margin-left:2px}.border-radius-4{border-radius:4px}\n"],encapsulation:2,changeDetection:0});const te=["matDrawer"];function ne(a,t){1&a&&(e.TgZ(0,"div",27),e._UZ(1,"mat-progress-bar",28),e.qZA()),2&a&&(e.xp6(1),e.Q6J("mode","indeterminate"))}function ie(a,t){1&a&&(e.TgZ(0,"span",29),e._uU(1,"Novo Entidade"),e.qZA())}function ae(a,t){if(1&a&&(e.TgZ(0,"fuse-alert",30),e._UZ(1,"div",31),e.qZA()),2&a){const n=e.oxw();e.Q6J("appearance","soft")("dismissible",!0)("dismissed",!0)("name","alertBoxEntidades")("type",n.alert.type)("@shake","error"===n.alert.type),e.xp6(1),e.Q6J("innerHTML",n.alert.message,e.oJD)}}function oe(a,t){1&a&&(e.TgZ(0,"th",46),e._uU(1,"Codigo"),e.qZA())}function se(a,t){1&a&&(e.TgZ(0,"th",47),e._uU(1,"NIF"),e.qZA())}function re(a,t){1&a&&(e.TgZ(0,"th",48),e._uU(1,"Endere\xe7o"),e.qZA())}function de(a,t){1&a&&(e.TgZ(0,"th",49),e._uU(1,"Activo"),e.qZA())}function le(a,t){if(1&a&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&a){const n=e.oxw().$implicit;e.xp6(1),e.Oqu(n.codigo)}}function ce(a,t){if(1&a&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&a){const n=e.oxw().$implicit;e.xp6(1),e.Oqu(n.nif)}}function me(a,t){if(1&a&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&a){const n=e.oxw().$implicit;e.xp6(1),e.Oqu(n.endereco)}}function pe(a,t){1&a&&(e.ynx(0),e._UZ(1,"mat-icon",52),e.BQk()),2&a&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:check"))}function ue(a,t){1&a&&(e.ynx(0),e._UZ(1,"mat-icon",53),e.BQk()),2&a&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:x"))}function fe(a,t){if(1&a&&(e.TgZ(0,"td"),e.YNc(1,pe,2,1,"ng-container",25),e.YNc(2,ue,2,1,"ng-container",25),e.qZA()),2&a){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",n.activo),e.xp6(1),e.Q6J("ngIf",!n.activo)}}const ge=function(a){return{"bg-gray-50":a}};function he(a,t){if(1&a){const n=e.EpF();e.TgZ(0,"tr",50),e.NdJ("click",function(){const y=e.CHM(n).$implicit,U=e.oxw(3);return e.KtG(U.updateEntidade(y))}),e.TgZ(1,"td",51),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.YNc(5,le,2,1,"td",25),e.YNc(6,ce,2,1,"td",25),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.YNc(9,me,2,1,"td",25),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.YNc(14,fe,3,2,"td",25),e.qZA()}if(2&a){const n=t.$implicit,o=e.oxw(3),l=e.MAs(3);e.Q6J("ngClass",e.VKq(10,ge,n.id==(null==o.selectedEntidade?null:o.selectedEntidade.id))),e.xp6(2),e.Oqu(n.id),e.xp6(2),e.Oqu(n.nome),e.xp6(1),e.Q6J("ngIf",!l.opened),e.xp6(1),e.Q6J("ngIf",!l.opened),e.xp6(2),e.Oqu(null==n.entidade_tipo?null:n.entidade_tipo.nome),e.xp6(1),e.Q6J("ngIf",!l.opened),e.xp6(2),e.Oqu(n.email),e.xp6(2),e.Oqu(n.telefone),e.xp6(1),e.Q6J("ngIf",!l.opened)}}const _e=function(a){return{"pointer-events-none":a}},ve=function(){return[10,25,100,500]};function Ee(a,t){if(1&a&&(e.ynx(0),e.TgZ(1,"table",33)(2,"tr",34)(3,"td",35),e._uU(4,"Nr. Ord"),e.qZA(),e.TgZ(5,"td",36),e._uU(6,"Nome"),e.qZA(),e.YNc(7,oe,2,0,"th",37),e.YNc(8,se,2,0,"th",38),e.TgZ(9,"th",39),e._uU(10,"Tipo de Entidade"),e.qZA(),e.YNc(11,re,2,0,"th",40),e.TgZ(12,"th",41),e._uU(13,"E-mail"),e.qZA(),e.TgZ(14,"th",42),e._uU(15,"Telefone"),e.qZA(),e.YNc(16,de,2,0,"th",43),e.qZA(),e.YNc(17,he,15,12,"tr",44),e.qZA(),e._UZ(18,"mat-paginator",45),e.BQk()),2&a){const n=e.oxw().ngIf,o=e.oxw(),l=e.MAs(3);e.xp6(7),e.Q6J("ngIf",!l.opened),e.xp6(1),e.Q6J("ngIf",!l.opened),e.xp6(3),e.Q6J("ngIf",!l.opened),e.xp6(5),e.Q6J("ngIf",!l.opened),e.xp6(1),e.Q6J("ngForOf",n),e.xp6(1),e.Q6J("ngClass",e.VKq(11,_e,o.isLoading))("length",o.pagination.length)("pageIndex",o.pagination.page)("pageSize",o.pagination.size)("pageSizeOptions",e.DdM(13,ve))("showFirstLastButtons",!0)}}function xe(a,t){if(1&a&&(e.ynx(0),e.YNc(1,Ee,19,14,"ng-container",32),e.BQk()),2&a){const n=t.ngIf;e.oxw();const o=e.MAs(33);e.xp6(1),e.Q6J("ngIf",n.length>0)("ngIfElse",o)}}function Te(a,t){if(1&a){const n=e.EpF();e.TgZ(0,"div",54),e._UZ(1,"mat-icon",55),e.TgZ(2,"div",56),e._uU(3," N\xe3o h\xe1 Entidades cadastrados! "),e.qZA(),e.TgZ(4,"button",57),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.createEntidade())}),e._UZ(5,"mat-icon",21),e.TgZ(6,"span",29),e._uU(7,"Cadastrar a Primeira Entidade"),e.qZA()()()}2&a&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:clipboard-list"),e.xp6(3),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus"))}class A{constructor(t,n,o,l,y,U,be,Ae){this._activatedRoute=t,this._changeDetectorRef=n,this._router=o,this._entidadeService=l,this._fuseMediaWatcherService=y,this._drawerService=U,this._fuseAlertService=be,this._tipoEntidadeService=Ae,this.isLoading=!1,this.searchInputControl=new s.p4,this._unsubscribeAll=new q.x,this.showAlert=!1,this.alert={type:"success",message:""}}ngOnInit(){this._fuseMediaWatcherService.onMediaQueryChange$("(min-width: 1440px)").pipe((0,S.R)(this._unsubscribeAll)).subscribe(t=>{this.drawerMode=t.matches?"side":"over",this._changeDetectorRef.markForCheck()}),this._entidadeService.pagination$.pipe((0,S.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.entidades$=this._entidadeService.entidades$,this._tipoEntidadeService.tipoEntidades$.subscribe(t=>{this.tipoEntidades=t})}ngAfterViewInit(){this._drawerService.setDrawer(this.matDrawer),this._sort&&this._paginator&&(this._sort.sort({id:"id",start:"asc",disableClear:!0}),this._sort.sortChange.pipe((0,S.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,K.T)(this._sort.sortChange,this._paginator.page).pipe((0,$.w)(()=>{let t=new M.LE;return t=t.append("page",this._paginator.pageIndex),t=t.append("size",this._paginator.pageSize),t=t.append("sort",this._sort.active),t=t.append("order",this._sort.direction),this._entidadeService.getEntidades(t)})).subscribe(),this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}createEntidade(){this.selectedEntidade=null,this.matDrawer.open()}updateEntidade(t){this.matDrawer.opened||this.matDrawer.open(),this.selectedEntidade=t}trackByFn(t,n){return n.id||t}showAlertEvent(t){this.alert=t,this.showAlert=!0,setTimeout(()=>{this._fuseAlertService.dismiss("alertBoxEntidades"),this._changeDetectorRef.markForCheck()},15e3)}applyFilter(t){const n=t;if(null===n||null==n)this._entidadeService.getEntidades(this._entidadeService.getEntidadeDefaultParams).subscribe();else{let o=new M.LE;o=o.append("nome",n),this._entidadeService.getEntidades(o).subscribe(),this.searchInputControl.reset()}}}A.\u0275fac=function(t){return new(t||A)(e.Y36(f.gz),e.Y36(e.sBO),e.Y36(f.F0),e.Y36(R.b),e.Y36(W.T),e.Y36(P.z),e.Y36(O.jm),e.Y36(G.O))},A.\u0275cmp=e.Xpm({type:A,selectors:[["entidade-list"]],viewQuery:function(t,n){if(1&t&&(e.Gf(te,5),e.Gf(D.NW,5),e.Gf(w.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.matDrawer=o.first),e.iGM(o=e.CRH())&&(n._paginator=o.first),e.iGM(o=e.CRH())&&(n._sort=o.first)}},decls:34,vars:21,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","bg-card","dark:bg-transparent",3,"backdropClick"],[1,"w-full","dark:bg-gray-900",2,"width","600px!important",3,"mode","opened","position","disableClose"],["matDrawer",""],[3,"entidade","tipoEntidades","alertMessage"],[1,"flex","flex-col"],[1,"flex","flex-col","flex-auto"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-secondary"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-flat-button","",2,"margin-right","-16px",3,"color","click"],[3,"svgIcon"],["mat-flat-button","",1,"ml-4",3,"color","click"],["class","ml-2 mr-1",4,"ngIf"],[3,"appearance","dismissible","dismissed","name","type",4,"ngIf"],[4,"ngIf"],["noEntidades",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[1,"ml-2","mr-1"],[3,"appearance","dismissible","dismissed","name","type"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["matSort",""],[1,"sticky","top-0","h-12","shadow","text-sm","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],["mat-sort-header","id",1,"padding-l-40"],["mat-sort-header","nome"],["mat-sort-header","codigo",4,"ngIf"],["mat-sort-header","nif",4,"ngIf"],["mat-sort-header","entidadeTipoId"],["mat-sort-header","endereco",4,"ngIf"],["mat-sort-header","email"],["mat-sort-header","telefone"],["mat-sort-header","activo",4,"ngIf"],["class","h-10 text-sm border-b cursor-p",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],["mat-sort-header","codigo"],["mat-sort-header","nif"],["mat-sort-header","endereco"],["mat-sort-header","activo"],[1,"h-10","text-sm","border-b","cursor-p",3,"ngClass","click"],[1,"padding-l-40"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-gray-400","icon-size-5",3,"svgIcon"],[1,"flex","flex-auto","flex-col","items-center","mt-30"],[1,"icon-size-24",3,"svgIcon"],[1,"text-2xl","font-semibold","tracking-tight","text-secondary"],["mat-flat-button","",1,"ml-4","mt-5",3,"color","click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"mat-drawer-container",1),e.NdJ("backdropClick",function(){return n.onBackdropClicked()}),e.TgZ(2,"mat-drawer",2,3)(4,"entidade-form",4),e.NdJ("alertMessage",function(l){return n.showAlertEvent(l)}),e.qZA()(),e.TgZ(5,"mat-drawer-content",5)(6,"div",6)(7,"div",7),e.YNc(8,ne,2,1,"div",8),e.TgZ(9,"div",9)(10,"div",10)(11,"div")(12,"a",11),e._uU(13,"Configura\xe7\xf5es"),e.qZA()(),e.TgZ(14,"div",12),e._UZ(15,"mat-icon",13),e.TgZ(16,"span",14),e._uU(17,"Entidades"),e.qZA()()(),e.TgZ(18,"div",15)(19,"h2",16),e._uU(20," Entidades "),e.qZA()()(),e.TgZ(21,"div",17)(22,"mat-form-field",18),e._UZ(23,"input",19),e.TgZ(24,"button",20),e.NdJ("click",function(){return n.applyFilter(n.searchInputControl.value)}),e._UZ(25,"mat-icon",21),e.qZA()(),e.TgZ(26,"button",22),e.NdJ("click",function(){return n.createEntidade()}),e._UZ(27,"mat-icon",21),e.YNc(28,ie,2,0,"span",23),e.qZA()()(),e.YNc(29,ae,2,7,"fuse-alert",24),e.YNc(30,xe,2,2,"ng-container",25),e.ALo(31,"async"),e.YNc(32,Te,8,3,"ng-template",null,26,e.W1O),e.qZA()()()()),2&t){const o=e.MAs(3);e.xp6(2),e.Q6J("mode",n.drawerMode)("opened",!1)("position","end")("disableClose",!0),e.xp6(2),e.Q6J("entidade",n.selectedEntidade)("tipoEntidades",n.tipoEntidades),e.xp6(4),e.Q6J("ngIf",n.isLoading),e.xp6(7),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(7),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("formControl",n.searchInputControl)("autocomplete","off")("placeholder","Pesquisar templates"),e.xp6(1),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:search"),e.xp6(1),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(1),e.Q6J("ngIf",!o.opened),e.xp6(1),e.Q6J("ngIf",n.showAlert),e.xp6(1),e.Q6J("ngIf",e.lcZ(31,19,n.entidades$))}},dependencies:[m.lW,g.KE,I.Hw,r.Nt,T.pW,J.jA,J.kh,J.LW,D.NW,w.YE,w.nU,Z.mk,Z.sg,Z.O5,s.Fj,s.JJ,s.oH,V.W,b,Z.Ov],styles:[".cursor-p:hover{cursor:pointer!important;color:#4f46e5}.padding-l-40{padding-left:40px!important}\n"],encapsulation:2,data:{animation:j.L},changeDetection:0});var Ze=i(4884);const Ce=[{path:"",component:A,resolve:{entidades:z.S,tipoEntidades:Ze.$}}];var Ie=i(3745);class C{}C.\u0275fac=function(t){return new(t||C)},C.\u0275mod=e.oAB({type:C}),C.\u0275inj=e.cJS({providers:[{provide:_.sG,useValue:u._O}],imports:[f.Bz.forChild(Ce),c._t,d.Bb,m.ot,p.p9,v.FA,E.t,g.lN,I.Ps,r.c,u.En,x.Tx,T.Cv,N.Fk,_.si,L.LD,J.SJ,B.AV,D.TU,w.JX,Y.V,Ie.S1,k.m,O.fC,Q.Co]})},516:(F,h,i)=>{i.d(h,{S:()=>d});var f=i(4650),c=i(5979);class d{constructor(p){this._tipoEntidadeService=p}resolve(){return this._tipoEntidadeService.getEntidades(this._tipoEntidadeService.getEntidadeDefaultParams)}}d.\u0275fac=function(p){return new(p||d)(f.LFG(c.b))},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})},5979:(F,h,i)=>{i.d(h,{b:()=>g});var f=i(529),c=i(1135),d=i(8505),m=i(5698),p=i(3900),_=i(4004),v=i(2340),E=i(4650);class g{constructor(r){this._httpClient=r,this._pagination=new c.X(null),this._entidade=new c.X(null),this._entidades=new c.X(null)}get pagination$(){return this._pagination.asObservable()}get entidade$(){return this._entidade.asObservable()}get entidades$(){return this._entidades.asObservable()}set entidade$(r){r.subscribe(u=>{this._entidade.next(u)})}getEntidades(r){return this._httpClient.get(v.N.URL_ROOT_API+"/entidades",{params:r}).pipe((0,d.b)(u=>{this._pagination.next(u.pagination),this._entidades.next(u.data)}))}getEntidade(r){return this._httpClient.get(v.N.URL_ROOT_API+"/entidades/"+r).pipe((0,d.b)(u=>{this._entidade.next(u.data)}))}get getEntidadeDefaultParams(){let r=new f.LE;return r=r.append("page",0),r=r.append("size",15),r}createEntidade(r){return this.entidades$.pipe((0,m.q)(1),(0,p.w)(u=>this._httpClient.post(v.N.URL_ROOT_API+"/entidades",r).pipe((0,_.U)(x=>x.data))))}updateEntidade(r,u){return this.entidades$.pipe((0,m.q)(1),(0,p.w)(x=>this._httpClient.put(v.N.URL_ROOT_API+"/entidades/"+u.id,u).pipe((0,_.U)(T=>T.data))))}deleteEntidade(r){return this.entidades$.pipe((0,m.q)(1),(0,p.w)(u=>this._httpClient.delete(v.N.URL_ROOT_API+"/entidades/"+r).pipe((0,_.U)(x=>{const T=u.findIndex(N=>N.id===r);return u.splice(T,1),x}))))}}g.\u0275fac=function(r){return new(r||g)(E.LFG(f.eN))},g.\u0275prov=E.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})},9424:(F,h,i)=>{i.d(h,{z:()=>c});var f=i(4650);class c{setDrawer(m){this.matDrawer=m}toggle(){this.matDrawer.toggle()}open(){this.matDrawer.open()}close(){this.matDrawer.close()}opened(){return this.matDrawer?.opened}}c.\u0275fac=function(m){return new(m||c)},c.\u0275prov=f.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}}]);